# ops/env.example

# -------- Venue & Network --------
BINANCE_ACCOUNT_TYPE=spot         # fixed to 'spot' for this starter pack
BINANCE_IS_TESTNET=true           # true for paper/testnet, false for live

# -------- API Keys --------
BINANCE_API_KEY=your_spot_testnet_key_here
BINANCE_API_SECRET=your_spot_testnet_secret_here

# -------- Strategy --------
SYMBOL=BTCUSDT.BINANCE            # spot symbol format
QTY=0.001                         # tiny size for demo trading
MAX_SPREAD_BP=3.0
COOLDOWN_MS=1500
MAX_DD_DAY_USD=-50
VWAP_ANCHOR_BPS=4.0
MIN_CONF=0.60

# -------- Risk Rails --------
TRADING_ENABLED=true
MIN_NOTIONAL_USDT=5
MAX_NOTIONAL_USDT=200
MAX_ORDERS_PER_MIN=30
TRADE_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT
DUST_THRESHOLD_USD=2
# Optional if you ever quote to something else:
# QUOTE_CCY=USDT

# -------- Cross-Venue Risk Monitoring --------
RISK_LIMIT_USD_PER_SYMBOL=1000
EXPOSURE_CHECK_INTERVAL_SEC=30
ALERT_WEBHOOK_URL=https://hooks.slack.com/your-webhook-here

# -------- Strategy (optional; defaults are safe) ---------
STRATEGY_ENABLED=false
STRATEGY_DRY_RUN=true
STRATEGY_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT
STRATEGY_INTERVAL_SEC=60
STRATEGY_FAST=9
STRATEGY_SLOW=21
STRATEGY_QUOTE_USDT=10.0

# -------- HMM Strategy --------
HMM_ENABLED=false
HMM_MODEL_PATH=engine/models/hmm_policy.pkl
HMM_WINDOW=120
HMM_SLIPPAGE_BPS=3
COOLDOWN_SEC=30
TP_BPS=20
SL_BPS=30

# -------- Ensemble Meta-Policy --------
ENSEMBLE_ENABLED=false
ENSEMBLE_MIN_CONF=0.6
ENSEMBLE_WEIGHTS=hmm_v1:0.5,ma_v1:0.5

# -------- ML Service --------
HMM_URL=http://127.0.0.1:8010
RETRAIN_KLD_THRESHOLD=0.25
VOL_WINDOW_SECS=60

# -------- IBKR Connection --------
IBKR_HOST=127.0.0.1
IBKR_PORT=7497              # TWS paper default
IBKR_CLIENT_ID=777

# -------- IBKR Fees (US equities; override as needed) ---------
IBKR_FEE_MODE=per_share     # per_share | bps
IBKR_FEE_PER_SHARE=0.005    # $0.005/share typical tiered; adjust to your plan
IBKR_MIN_TRADE_FEE_USD=1    # $1 minimum per trade (approx; adjust)

# -------- IBKR Notional Guard (min order value) ----------
IBKR_MIN_NOTIONAL_USD=5     # guardrail; not an IBKR rule, but keeps your engine consistent

# -------- IBKR Price Feed (for OPS dashboards) -------
# OPS_IBKR_TICKERS=AAPL,MSFT,NVDA,TSLA,GOOGL  # Tickers to monitor for price feeds
