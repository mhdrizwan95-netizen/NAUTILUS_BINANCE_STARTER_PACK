<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nautilus Deck</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="topbar">
    <div class="brand">Nautilus Deck</div>
    <div class="pill">
      <label>Mode</label>
      <select id="mode">
        <option value="red">Red</option>
        <option value="yellow" selected>Yellow</option>
        <option value="green">Green</option>
      </select>
    </div>
    <button id="killswitch" class="danger">KILL OFF</button>
  </div>

  <div class="grid">
    <section>
      <h3>Capital & Performance</h3>
      <div id="equity">Total Equity (USDT): -</div>
      <div id="fundingBalance">Funding (USDT): -</div>
      <div id="spotBalance">Spot Free (USDT): -</div>
      <div id="spotLocked">Spot Locked (USDT): -</div>
      <div id="futuresWallet">Futures Wallet (USDT): -</div>
      <div id="futuresAvailable">Futures Available (USDT): -</div>
      <div id="pnl24">PnL 24h (USDT): -</div>
      <div id="dd">Drawdown: -</div>
      <div id="riskuse">Open Risk: -</div>
      <div id="positions">Positions: -</div>
      <div id="walletUpdated">Wallet Updated: -</div>
    </section>

    <section>
      <h3>Opportunity (Top Symbols)</h3>
      <table id="tops">
        <thead><tr><th>Symbol</th><th>Score</th><th>Velocity</th><th>Event</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <section>
      <h3>Execution & Health</h3>
      <div>Tick→Order p50: <span id="lat50">-</span> ms</div>
      <div>Tick→Order p95: <span id="lat95">-</span> ms</div>
      <div>Venue error-rate: <span id="err">-</span>%</div>
      <div>Breakers: <span id="brk">-</span></div>
    </section>

    <section>
      <h3>Strategy Weights</h3>
      <div id="weights"></div>
    </section>

    <section>
      <h3>Transfers (Manual)</h3>
      <div class="row">
        <label for="xfer_from">From</label>
        <select id="xfer_from"></select>
        <label for="xfer_to">To</label>
        <select id="xfer_to"></select>
      </div>
      <div class="row" style="margin-top: 6px;">
        <label for="xfer_asset">Asset</label>
        <input id="xfer_asset" value="USDT" style="width: 70px" />
        <label for="xfer_amt">Amount</label>
        <input id="xfer_amt" type="number" step="0.01" placeholder="0.00" style="width: 100px" />
        <label id="lbl_sym" for="xfer_symbol" style="display: none;">Symbol</label>
        <input id="xfer_symbol" placeholder="BTCUSDT" style="display: none; width: 120px" />
        <button id="xfer_go">Transfer</button>
      </div>
      <div style="margin-top: 8px;">
        Quick:
        <button class="mini" data-quick="FUNDING->UMFUTURE">Funding→Futures</button>
        <button class="mini" data-quick="UMFUTURE->FUNDING">Futures→Funding</button>
        <button class="mini" data-quick="FUNDING->MAIN">Funding→Spot</button>
        <button class="mini" data-quick="MAIN->UMFUTURE">Spot→Futures</button>
        <button class="mini" data-quick="UMFUTURE->MAIN">Futures→Spot</button>
        <button class="mini" data-quick="MAIN->FUNDING">Spot→Funding</button>
      </div>
      <h4 style="margin-top: 10px;">Recent</h4>
      <table id="xfer_log">
        <thead>
          <tr>
            <th>Time</th>
            <th>Type</th>
            <th>Asset</th>
            <th>Amt</th>
            <th>Symbol</th>
            <th>Result</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
  </div>

  <script src="/app.js"></script>
</body>
</html>
