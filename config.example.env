# Minimal, safe defaults for local bring-up

# Engine (disable trading by default)
TRADING_ENABLED=false
DRY_RUN=1
TRADE_SYMBOLS=BTCUSDT,ETHUSDT
MIN_NOTIONAL_USDT=10
MAX_NOTIONAL_USDT=1000
MAX_ORDERS_PER_MIN=30
DUST_THRESHOLD_USD=2

# Binance endpoints (spot & futures)
BINANCE_MODE=demo
BINANCE_SPOT_BASE=https://api.binance.com
BINANCE_FUTURES_BASE=https://fapi.binance.com
BINANCE_RECV_WINDOW=5000
BINANCE_API_TIMEOUT=10
DEMO_SPOT_BASE=https://testnet.binance.vision
#BINANCE_API_KEY=
#BINANCE_API_SECRET=

# Ops API (set token via secret file for production)
OPS_PORT=8002
# Override OPS_API_TOKEN in production; this test token is only for local dry runs.
OPS_API_TOKEN=test-ops-token-1234567890
OPS_API_TOKEN_FILE=/run/secrets/ops_api_token
# Hardened overlays mount secrets from this directory (see compose.hardening.override.yaml)
#SECRETS_DIR=./secrets
ENGINE_ENDPOINTS=http://engine_binance:8003
HMM_URL=http://ml_service:8000

# Observability stack (Grafana credentials must come from secrets manager)
GF_SECURITY_ADMIN_USER=grafana_admin
GF_SECURITY_ADMIN_PASSWORD__FILE=/run/secrets/grafana_admin_password

# ML service
DATA_DIR=/ml/data
MODEL_DIR=/models
REGISTRY_DIR=/models/registry
CURRENT_SYMLINK=/models/current
LEDGER_DB=/ml/manifest.sqlite
EXACTLY_ONCE=true  # set to false only for research/backtest overlays
DELETE_AFTER_PROCESS=true

# Data ingester
LEDGER_DB=/ml/manifest.sqlite
DATA_LANDING=/ml/incoming
EXCHANGE=binance
SYMBOLS=BTC/USDT,ETH/USDT
TIMEFRAME=1m
BATCH_LIMIT=1000
SLEEP_MS=500

# Param controller
PC_DB=/shared/param_controller.sqlite
