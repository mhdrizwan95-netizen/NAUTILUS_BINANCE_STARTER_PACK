global: { scrape_interval: 5s }
rule_files: ["./alerts.rules.yml"]
scrape_configs:
  - job_name: 'hmm_engine_binance'
    scrape_interval: 10s
    scrape_timeout: 8s
    static_configs:
      - targets: ['localhost:9103']
        labels:
          role: exporter

  - job_name: 'hmm_engine_binance_trader'
    scrape_interval: 10s
    scrape_timeout: 8s
    static_configs:
      - targets: ['hmm_engine_binance:8003']
        labels:
          role: trader

  - job_name: 'hmm_engine_bybit'
    static_configs:
      - targets: ['hmm_engine_bybit:9104']

  - job_name: 'hmm_ops'
    static_configs:
      - targets: ['hmm_ops:8002']

  - job_name: 'hmm_dash'
    static_configs:
      - targets: ['hmm_dash:8002']

  - job_name: 'hmm_ml'
    static_configs:
      - targets: ['hmm_ml:8010']

  - job_name: hmm-dashboard
    static_configs:
      - targets: ['host.docker.internal:8050']   # macOS: dashboard /metrics

  - job_name: 'hmm_executor'
    static_configs:
      - targets: ['hmm_executor:9102']
