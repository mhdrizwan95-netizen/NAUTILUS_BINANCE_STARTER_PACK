{"version":3,"file":"FundingTab-BUkQH1me.js","sources":["../../node_modules/lucide-react/dist/esm/icons/chart-no-axes-column.js","../../node_modules/lucide-react/dist/esm/icons/dollar-sign.js","../../node_modules/lucide-react/dist/esm/icons/save.js","../../node_modules/lucide-react/dist/esm/icons/trending-up.js","../../src/components/tabs/FundingTab.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"18\", x2: \"18\", y1: \"20\", y2: \"10\", key: \"1xfpm4\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"20\", y2: \"4\", key: \"be30l9\" }],\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"20\", y2: \"14\", key: \"1r4le6\" }]\n];\nconst ChartNoAxesColumn = createLucideIcon(\"chart-no-axes-column\", __iconNode);\n\nexport { __iconNode, ChartNoAxesColumn as default };\n//# sourceMappingURL=chart-no-axes-column.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"2\", y2: \"22\", key: \"7eqyqh\" }],\n  [\"path\", { d: \"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\", key: \"1b0p4s\" }]\n];\nconst DollarSign = createLucideIcon(\"dollar-sign\", __iconNode);\n\nexport { __iconNode, DollarSign as default };\n//# sourceMappingURL=dollar-sign.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n];\nconst Save = createLucideIcon(\"save\", __iconNode);\n\nexport { __iconNode, Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"polyline\", { points: \"22 7 13.5 15.5 8.5 10.5 2 17\", key: \"126l90\" }],\n  [\"polyline\", { points: \"16 7 22 7 22 13\", key: \"kwv8wd\" }]\n];\nconst TrendingUp = createLucideIcon(\"trending-up\", __iconNode);\n\nexport { __iconNode, TrendingUp as default };\n//# sourceMappingURL=trending-up.js.map\n","import { useEffect, useMemo, useState } from 'react';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { TrendingUp, DollarSign, BarChart2, Save } from 'lucide-react';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '../ui/table';\nimport { Skeleton } from '../ui/skeleton';\nimport { queryKeys } from '../../lib/queryClient';\nimport {\n  getAggregatePortfolio,\n  getAggregateExposure,\n  getAggregatePnl,\n  getConfigEffective,\n  updateConfig,\n  type ControlRequestOptions,\n} from '../../lib/api';\nimport {\n  exposureAggregateSchema,\n  pnlSnapshotSchema,\n  portfolioAggregateSchema,\n  validateApiResponse,\n  configEffectiveSchema,\n} from '../../lib/validation';\nimport { Input } from '../ui/input';\nimport { Button } from '../ui/button';\nimport { useAppStore } from '../../lib/store';\nimport { toast } from 'sonner';\nimport { generateIdempotencyKey } from '../../lib/idempotency';\n\nfunction formatCurrency(value: number, opts: Intl.NumberFormatOptions = {}) {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    maximumFractionDigits: 2,\n    minimumFractionDigits: 2,\n    ...opts,\n  }).format(value);\n}\n\nfunction formatPercent(value: number) {\n  return `${(value * 100).toFixed(2)}%`;\n}\n\nfunction formatEpoch(epoch: number | null | undefined) {\n  if (!epoch) return '—';\n  const date = new Date(epoch * 1000);\n  return date.toLocaleString();\n}\n\nexport function FundingTab() {\n  const queryClient = useQueryClient();\n  const opsToken = useAppStore((state) => state.opsAuth.token);\n  const opsActor = useAppStore((state) => state.opsAuth.actor);\n  const opsApprover = useAppStore((state) => state.opsAuth.approver);\n\n  const portfolioQuery = useQuery({\n    queryKey: queryKeys.funding.portfolio(),\n    queryFn: () =>\n      getAggregatePortfolio().then((data) =>\n        validateApiResponse(portfolioAggregateSchema, data, 'Aggregate portfolio'),\n      ),\n    refetchInterval: 30_000,\n  });\n\n  const exposureQuery = useQuery({\n    queryKey: queryKeys.funding.exposure(),\n    queryFn: () =>\n      getAggregateExposure().then((data) =>\n        validateApiResponse(exposureAggregateSchema, data, 'Exposure aggregate'),\n      ),\n    refetchInterval: 30_000,\n  });\n\n  const pnlQuery = useQuery({\n    queryKey: queryKeys.funding.pnl(),\n    queryFn: () =>\n      getAggregatePnl().then((data) =>\n        validateApiResponse(pnlSnapshotSchema, data, 'PnL snapshot'),\n      ),\n    refetchInterval: 30_000,\n  });\n\n  const configQuery = useQuery({\n    queryKey: queryKeys.settings.config(),\n    queryFn: () =>\n      getConfigEffective().then((data) =>\n        validateApiResponse(configEffectiveSchema, data, 'Runtime config'),\n      ),\n    staleTime: 60_000,\n  });\n\n  const [budgetDraft, setBudgetDraft] = useState<Record<string, number>>({});\n  const [budgetTouched, setBudgetTouched] = useState(false);\n\n  useEffect(() => {\n    if (!configQuery.data || budgetTouched) return;\n    const buckets = configQuery.data.effective?.buckets ?? {};\n    const mapped = Object.entries(buckets).reduce<Record<string, number>>((acc, [key, val]) => {\n      acc[key] = typeof val === 'number' ? val : Number(val ?? 0);\n      return acc;\n    }, {});\n    setBudgetDraft(mapped);\n  }, [configQuery.data, budgetTouched]);\n\n  const updateBudgetsMutation = useMutation({\n    mutationFn: async ({\n      buckets,\n      options,\n    }: {\n      buckets: Record<string, number>;\n      options: ControlRequestOptions;\n    }) => updateConfig({ buckets }, options),\n    onSuccess: (data) => {\n      toast.success('Capital buckets updated');\n      setBudgetTouched(false);\n      const buckets = data.effective?.buckets ?? {};\n      const mapped = Object.entries(buckets).reduce<Record<string, number>>((acc, [key, val]) => {\n        acc[key] = typeof val === 'number' ? val : Number(val ?? 0);\n        return acc;\n      }, {});\n      setBudgetDraft(mapped);\n      queryClient.setQueryData(queryKeys.settings.config(), data);\n    },\n    onError: (error: unknown) => {\n      toast.error('Failed to update capital buckets', {\n        description: error instanceof Error ? error.message : 'Unknown error',\n      });\n    },\n  });\n\n  const handleBudgetChange = (bucket: string, value: number) => {\n    setBudgetTouched(true);\n    setBudgetDraft((prev) => ({ ...prev, [bucket]: value }));\n  };\n\n  const totalBudget = useMemo(\n    () => Object.values(budgetDraft).reduce((sum, value) => sum + (Number(value) || 0), 0),\n    [budgetDraft],\n  );\n\n  const exposureRows = useMemo(() => {\n    if (!exposureQuery.data) return [];\n    return Object.entries(exposureQuery.data.by_symbol)\n      .map(([key, value]) => {\n        const [symbol, venue = 'UNKNOWN'] = key.split('.');\n        return {\n          key,\n          symbol,\n          venue,\n          qty: value.qty_base,\n          price: value.last_price_usd,\n          exposure: value.exposure_usd,\n        };\n      })\n      .sort((a, b) => Math.abs(b.exposure) - Math.abs(a.exposure))\n      .slice(0, 12);\n  }, [exposureQuery.data]);\n\n  const pnlRows = useMemo(() => {\n    if (!pnlQuery.data) return [];\n    const venues = new Set([\n      ...Object.keys(pnlQuery.data.realized),\n      ...Object.keys(pnlQuery.data.unrealized),\n    ]);\n    return Array.from(venues)\n      .map((venue) => {\n        const realized = pnlQuery.data.realized[venue] ?? 0;\n        const unrealized = pnlQuery.data.unrealized[venue] ?? 0;\n        return {\n          venue,\n          realized,\n          unrealized,\n          total: realized + unrealized,\n        };\n      })\n      .sort((a, b) => Math.abs(b.total) - Math.abs(a.total));\n  }, [pnlQuery.data]);\n\n  const isExposureLoading =\n    portfolioQuery.isLoading || exposureQuery.isLoading || pnlQuery.isLoading;\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n          <div>\n            <CardTitle>Capital Buckets</CardTitle>\n            <CardDescription>\n              Update allocation weights used by the allocator. Values must sum to 1.0.\n            </CardDescription>\n          </div>\n          <Button\n            variant=\"secondary\"\n            size=\"sm\"\n            disabled={\n              updateBudgetsMutation.isPending ||\n              !budgetTouched ||\n              !opsToken.trim() ||\n              Math.abs(totalBudget - 1) > 0.001\n            }\n            onClick={() => {\n              if (!opsToken.trim()) {\n                toast.error('Provide an OPS token in Settings before updating buckets');\n                return;\n              }\n              if (!opsApprover.trim()) {\n                toast.error('Provide an approver token before updating capital buckets');\n                return;\n              }\n              updateBudgetsMutation.mutate({\n                buckets: budgetDraft,\n                options: {\n                  token: opsToken.trim(),\n                  actor: opsActor.trim() || undefined,\n                  approverToken: opsApprover.trim() || undefined,\n                  idempotencyKey: generateIdempotencyKey('buckets'),\n                },\n              });\n            }}\n          >\n            <Save className=\"mr-2 h-4 w-4\" />\n            {updateBudgetsMutation.isPending ? 'Saving…' : 'Save allocations'}\n          </Button>\n        </CardHeader>\n        <CardContent>\n          {configQuery.isLoading ? (\n            <Skeleton className=\"h-32 w-full\" />\n          ) : (\n            <div className=\"space-y-4\">\n              <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n                {Object.entries(budgetDraft).map(([bucket, value]) => (\n                  <div\n                    key={bucket}\n                    className=\"rounded-lg border border-zinc-800/60 bg-zinc-950/40 p-4 space-y-2\"\n                  >\n                    <div className=\"flex items-center justify-between text-sm font-medium text-zinc-200\">\n                      <span>{bucket}</span>\n                      <span>{(value * 100).toFixed(1)}%</span>\n                    </div>\n                    <Input\n                      type=\"number\"\n                      min={0}\n                      max={1}\n                      step={0.01}\n                      value={Number.isFinite(value) ? value : 0}\n                      onChange={(event) => handleBudgetChange(bucket, Number(event.target.value))}\n                    />\n                  </div>\n                ))}\n              </div>\n              <div className=\"flex items-center justify-between text-xs text-zinc-500\">\n                <span>Total allocation</span>\n                <span\n                  className={\n                    Math.abs(totalBudget - 1) <= 0.001 ? 'text-emerald-400' : 'text-amber-400'\n                  }\n                >\n                  {totalBudget.toFixed(3)}\n                </span>\n              </div>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <div className=\"flex flex-col gap-4 md:grid md:grid-cols-3\">\n        <MetricCard\n          title=\"Total Equity\"\n          description=\"Aggregate across all venues\"\n          icon={<TrendingUp className=\"h-4 w-4 text-emerald-400\" />}\n          value={\n            portfolioQuery.data ? formatCurrency(portfolioQuery.data.equity_usd) : '—'\n          }\n          footer={\n            portfolioQuery.data\n              ? `Return: ${formatPercent(portfolioQuery.data.return_pct)}`\n              : 'Return: —'\n          }\n          loading={portfolioQuery.isLoading}\n        />\n        <MetricCard\n          title=\"Cash on Hand\"\n          description=\"Liquid capital available\"\n          icon={<DollarSign className=\"h-4 w-4 text-cyan-400\" />}\n          value={\n            portfolioQuery.data ? formatCurrency(portfolioQuery.data.cash_usd) : '—'\n          }\n          footer={\n            portfolioQuery.data\n              ? `Gain/Loss: ${formatCurrency(portfolioQuery.data.gain_usd)}`\n              : 'Gain/Loss: —'\n          }\n          loading={portfolioQuery.isLoading}\n        />\n        <MetricCard\n          title=\"Tracked Symbols\"\n          description=\"Positions & watchlist coverage\"\n          icon={<BarChart2 className=\"h-4 w-4 text-violet-400\" />}\n          value={exposureQuery.data ? exposureQuery.data.totals.count.toString() : '—'}\n          footer={\n            exposureQuery.data\n              ? `Exposure: ${formatCurrency(exposureQuery.data.totals.exposure_usd, {\n                  maximumFractionDigits: 0,\n                  minimumFractionDigits: 0,\n                })}`\n              : 'Exposure: —'\n          }\n          loading={exposureQuery.isLoading}\n        />\n      </div>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-2\">\n          <div>\n            <CardTitle>Symbol Exposure</CardTitle>\n            <CardDescription>Top positions by notional exposure (USD)</CardDescription>\n          </div>\n          <Badge variant=\"outline\">\n            Last refresh: {formatEpoch(portfolioQuery.data?.last_refresh_epoch)}\n          </Badge>\n        </CardHeader>\n        <CardContent>\n          {isExposureLoading ? (\n            <Skeleton className=\"h-40 w-full\" />\n          ) : exposureRows.length === 0 ? (\n            <EmptyState message=\"No exposure data available yet. Once positions are reported by the engines they will appear here.\" />\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Symbol</TableHead>\n                    <TableHead>Venue</TableHead>\n                    <TableHead className=\"text-right\">Quantity</TableHead>\n                    <TableHead className=\"text-right\">Last Price</TableHead>\n                    <TableHead className=\"text-right\">Exposure</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {exposureRows.map((row) => (\n                    <TableRow key={row.key}>\n                      <TableCell>{row.symbol}</TableCell>\n                      <TableCell>\n                        <Badge variant=\"secondary\">{row.venue}</Badge>\n                      </TableCell>\n                      <TableCell className=\"text-right font-mono\">\n                        {row.qty.toFixed(6)}\n                      </TableCell>\n                      <TableCell className=\"text-right font-mono\">\n                        {formatCurrency(row.price)}\n                      </TableCell>\n                      <TableCell className=\"text-right font-mono\">\n                        {formatCurrency(row.exposure, {\n                          maximumFractionDigits: 0,\n                          minimumFractionDigits: 0,\n                        })}\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Venue PnL Snapshot</CardTitle>\n          <CardDescription>Realized vs unrealized performance by venue</CardDescription>\n        </CardHeader>\n        <CardContent>\n          {pnlQuery.isLoading ? (\n            <Skeleton className=\"h-32 w-full\" />\n          ) : pnlRows.length === 0 ? (\n            <EmptyState message=\"PnL data is not available yet. Populate the collectors or run the engines to see live figures.\" />\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>Venue</TableHead>\n                    <TableHead className=\"text-right\">Realized</TableHead>\n                    <TableHead className=\"text-right\">Unrealized</TableHead>\n                    <TableHead className=\"text-right\">Total</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {pnlRows.map((row) => {\n                    const positive = row.total >= 0;\n                    return (\n                      <TableRow key={row.venue}>\n                        <TableCell>\n                          <Badge variant=\"outline\">{row.venue}</Badge>\n                        </TableCell>\n                        <TableCell className=\"text-right font-mono\">\n                          {formatCurrency(row.realized)}\n                        </TableCell>\n                        <TableCell className=\"text-right font-mono\">\n                          {formatCurrency(row.unrealized)}\n                        </TableCell>\n                        <TableCell\n                          className={`text-right font-mono ${\n                            positive ? 'text-emerald-400' : 'text-rose-400'\n                          }`}\n                        >\n                          {formatCurrency(row.total)}\n                        </TableCell>\n                      </TableRow>\n                    );\n                  })}\n                </TableBody>\n              </Table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\ntype MetricCardProps = {\n  title: string;\n  description: string;\n  value: string;\n  icon: React.ReactNode;\n  footer?: string;\n  loading?: boolean;\n};\n\nfunction MetricCard({ title, description, value, icon, footer, loading }: MetricCardProps) {\n  return (\n    <Card className=\"bg-zinc-900/40 border-zinc-800\">\n      <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n        <div>\n          <CardTitle className=\"text-sm text-zinc-200\">{title}</CardTitle>\n          <CardDescription>{description}</CardDescription>\n        </div>\n        <div className=\"rounded-full border border-zinc-700/50 bg-zinc-900/70 p-2\">\n          {icon}\n        </div>\n      </CardHeader>\n      <CardContent>\n        {loading ? (\n          <Skeleton className=\"h-8 w-36\" />\n        ) : (\n          <div className=\"text-2xl font-semibold text-zinc-100\">{value}</div>\n        )}\n        {footer ? <p className=\"mt-2 text-xs text-zinc-500\">{footer}</p> : null}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction EmptyState({ message }: { message: string }) {\n  return (\n    <div className=\"flex min-h-[120px] items-center justify-center rounded-lg border border-dashed border-zinc-800 bg-zinc-900/40 px-4 text-sm text-zinc-500\">\n      {message}\n    </div>\n  );\n}\n"],"names":["__iconNode","ChartNoAxesColumn","createLucideIcon","DollarSign","Save","TrendingUp","formatCurrency","value","opts","formatPercent","formatEpoch","epoch","FundingTab","queryClient","useQueryClient","opsToken","useAppStore","state","opsActor","opsApprover","portfolioQuery","useQuery","queryKeys","getAggregatePortfolio","data","validateApiResponse","portfolioAggregateSchema","exposureQuery","getAggregateExposure","exposureAggregateSchema","pnlQuery","getAggregatePnl","pnlSnapshotSchema","configQuery","getConfigEffective","configEffectiveSchema","budgetDraft","setBudgetDraft","useState","budgetTouched","setBudgetTouched","useEffect","buckets","mapped","acc","key","val","updateBudgetsMutation","useMutation","options","updateConfig","toast","error","handleBudgetChange","bucket","prev","totalBudget","useMemo","sum","exposureRows","symbol","venue","a","b","pnlRows","venues","realized","unrealized","isExposureLoading","jsxs","Card","CardHeader","jsx","CardTitle","CardDescription","Button","generateIdempotencyKey","CardContent","Skeleton","Input","event","MetricCard","BarChart2","Badge","EmptyState","Table","TableHeader","TableRow","TableHead","TableBody","row","TableCell","positive","title","description","icon","footer","loading","message"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}