import{o as it,Q as ot,z as st,T as ct,R as y,J as X,j as lt}from"./index-DTayauxn.js";import{i as ut,D as pt,s as ft,J as dt,L as V,f as W,C as ht,A as vt,l as B,m as yt,h as J,K as mt,o as gt,j as Z,u as bt,G as At,M as Y,y as xt,X as Pt,Y as St,N as Ot}from"./generateCategoricalChart-xSD5sOcd.js";const wt=ct("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Mt({className:t,variant:e,asChild:n=!1,...r}){const a=n?ot:"span";return it.jsx(a,{"data-slot":"badge",className:st(wt({variant:e}),t),...r})}var Dt=["type","layout","connectNulls","ref"],jt=["key"];function _(t){"@babel/helpers - typeof";return _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(t)}function q(t,e){if(t==null)return{};var n=kt(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$.apply(this,arguments)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H(Object(n),!0).forEach(function(r){A(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k(t){return Ct(t)||Lt(t)||Et(t)||_t()}function _t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(t,e){if(t){if(typeof t=="string")return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(t,e)}}function Lt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ct(t){if(Array.isArray(t))return U(t)}function U(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,et(r.key),r)}}function Nt(t,e,n){return e&&Q(t.prototype,e),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function It(t,e,n){return e=z(e),Bt(t,tt()?Reflect.construct(e,n||[],z(t).constructor):e.apply(t,n))}function Bt(t,e){if(e&&(_(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $t(t)}function $t(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tt=function(){return!!t})()}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z(t)}function Ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&G(t,e)}function G(t,e){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},G(t,e)}function A(t,e,n){return e=et(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function et(t){var e=Rt(t,"string");return _(e)=="symbol"?e:e+""}function Rt(t,e){if(_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K=(function(t){function e(){var n;Tt(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=It(this,e,[].concat(a)),A(n,"state",{isAnimationFinished:!0,totalLength:0}),A(n,"generateSimpleStrokeDasharray",function(i,s){return"".concat(s,"px ").concat(i-s,"px")}),A(n,"getStrokeDasharray",function(i,s,c){var u=c.reduce(function(P,O){return P+O});if(!u)return n.generateSimpleStrokeDasharray(s,i);for(var f=Math.floor(i/u),d=i%u,p=s-i,h=[],l=0,v=0;l<c.length;v+=c[l],++l)if(v+c[l]>d){h=[].concat(k(c.slice(0,l)),[d-v]);break}var b=h.length%2===0?[0,p]:[p];return[].concat(k(e.repeat(c,f)),k(h),b).map(function(P){return"".concat(P,"px")}).join(", ")}),A(n,"id",bt("recharts-line-")),A(n,"pathRef",function(i){n.mainCurve=i}),A(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),A(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Ft(e,t),Nt(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.points,s=o.xAxis,c=o.yAxis,u=o.layout,f=o.children,d=ft(f,dt);if(!d)return null;var p=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:Z(v.payload,b)}},h={clipPath:r?"url(#clipPath-".concat(a,")"):null};return y.createElement(V,h,d.map(function(l){return y.cloneElement(l,{key:"bar-".concat(l.props.dataKey),data:i,xAxis:s,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,a,o){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,u=s.points,f=s.dataKey,d=W(this.props,!1),p=W(c,!0),h=u.map(function(v,b){var P=g(g(g({key:"dot-".concat(b),r:3},d),p),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:u});return e.renderDotItem(c,P)}),l={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(o,")"):null};return y.createElement(V,$({className:"recharts-line-dots",key:"dots"},l),h)}},{key:"renderCurveStatically",value:function(r,a,o,i){var s=this.props,c=s.type,u=s.layout,f=s.connectNulls;s.ref;var d=q(s,Dt),p=g(g(g({},W(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(o,")"):null,points:r},i),{},{type:c,layout:u,connectNulls:f});return y.createElement(ht,$({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var o=this,i=this.props,s=i.points,c=i.strokeDasharray,u=i.isAnimationActive,f=i.animationBegin,d=i.animationDuration,p=i.animationEasing,h=i.animationId,l=i.animateNewValues,v=i.width,b=i.height,P=this.state,O=P.prevPoints,E=P.totalLength;return y.createElement(vt,{begin:f,duration:d,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(D){var S=D.t;if(O){var L=O.length/s.length,w=s.map(function(m,M){var N=Math.floor(M*L);if(O[N]){var I=O[N],j=B(I.x,m.x),rt=B(I.y,m.y);return g(g({},m),{},{x:j(S),y:rt(S)})}if(l){var nt=B(v*2,m.x),at=B(b/2,m.y);return g(g({},m),{},{x:nt(S),y:at(S)})}return g(g({},m),{},{x:m.x,y:m.y})});return o.renderCurveStatically(w,r,a)}var F=B(0,E),C=F(S),T;if(c){var R="".concat(c).split(/[,\s]+/gim).map(function(m){return parseFloat(m)});T=o.getStrokeDasharray(C,E,R)}else T=o.generateSimpleStrokeDasharray(E,C);return o.renderCurveStatically(s,r,a,{strokeDasharray:T})})}},{key:"renderCurve",value:function(r,a){var o=this.props,i=o.points,s=o.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return s&&i&&i.length&&(!u&&f>0||!yt(u,i))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(i,r,a)}},{key:"render",value:function(){var r,a=this.props,o=a.hide,i=a.dot,s=a.points,c=a.className,u=a.xAxis,f=a.yAxis,d=a.top,p=a.left,h=a.width,l=a.height,v=a.isAnimationActive,b=a.id;if(o||!s||!s.length)return null;var P=this.state.isAnimationFinished,O=s.length===1,E=X("recharts-line",c),D=u&&u.allowDataOverflow,S=f&&f.allowDataOverflow,L=D||S,w=J(b)?this.id:b,F=(r=W(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=F.r,T=C===void 0?3:C,R=F.strokeWidth,m=R===void 0?2:R,M=mt(i)?i:{},N=M.clipDot,I=N===void 0?!0:N,j=T*2+m;return y.createElement(V,{className:E},D||S?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(w)},y.createElement("rect",{x:D?p:p-h/2,y:S?d:d-l/2,width:D?h:h*2,height:S?l:l*2})),!I&&y.createElement("clipPath",{id:"clipPath-dots-".concat(w)},y.createElement("rect",{x:p-j/2,y:d-j/2,width:h+j,height:l+j}))):null,!O&&this.renderCurve(L,w),this.renderErrorBar(L,w),(O||i)&&this.renderDots(L,I,w),(!v||P)&&gt.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var o=r.length%2!==0?[].concat(k(r),[0]):r,i=[],s=0;s<a;++s)i=[].concat(k(i),k(o));return i}},{key:"renderDotItem",value:function(r,a){var o;if(y.isValidElement(r))o=y.cloneElement(r,a);else if(ut(r))o=r(a);else{var i=a.key,s=q(a,jt),c=X("recharts-line-dot",typeof r!="boolean"?r.className:"");o=y.createElement(pt,$({key:i},s,{className:c}))}return o}}])})(lt.PureComponent);A(K,"displayName","Line");A(K,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!At.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});A(K,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,a=t.xAxisTicks,o=t.yAxisTicks,i=t.dataKey,s=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,d=c.map(function(p,h){var l=Z(p,i);return f==="horizontal"?{x:Y({axis:n,ticks:a,bandSize:s,entry:p,index:h}),y:J(l)?null:r.scale(l),value:l,payload:p}:{x:J(l)?null:n.scale(l),y:Y({axis:r,ticks:o,bandSize:s,entry:p,index:h}),value:l,payload:p}});return g({points:d,layout:f},u)});var Vt=xt({chartName:"LineChart",GraphicalChild:K,axisComponents:[{axisType:"xAxis",AxisComp:Pt},{axisType:"yAxis",AxisComp:St}],formatAxisMap:Ot});const Wt="";async function x(t,e,n){const r=await fetch(`${Wt}${t}`,{...e,headers:{"Content-Type":"application/json",...e?.headers??{}},signal:n});if(!r.ok)throw new Error(await r.text());return r.json()}const Jt=t=>x("/api/strategies",void 0,t),Ut=(t,e,n)=>x(`/api/strategies/${t}/start`,{method:"POST",body:JSON.stringify({params:e})},n),Gt=(t,e)=>x(`/api/strategies/${t}/stop`,{method:"POST"},e),Xt=(t,e,n)=>x(`/api/strategies/${t}/update`,{method:"POST",body:JSON.stringify({params:e})},n),Yt=t=>x("/api/backtests",{method:"POST",body:JSON.stringify(t)}),qt=(t,e)=>x(`/api/backtests/${t}`,void 0,e),Ht=(t,e)=>x(`/api/metrics/summary?${t.toString()}`,void 0,e),Qt=t=>x("/api/positions",void 0,t),Zt=t=>x("/api/trades/recent?limit=100",void 0,t),te=t=>x("/api/alerts?limit=50",void 0,t),ee=t=>x("/api/health",void 0,t);export{Mt as B,Vt as L,Ht as a,Qt as b,Zt as c,te as d,ee as e,K as f,Jt as g,Gt as h,Yt as i,qt as p,Ut as s,Xt as u};
