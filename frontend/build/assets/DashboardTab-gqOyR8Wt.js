import{c as cs,S as ds,p as gt,r as W,s as Ge,a as Ce,n as et,i as tt,b as yt,t as us,d as Ee,f as hs,e as fs,g as vt,h as Bt,j as p,k as ms,u as ps,l as we,m as gs,o,q as ys,P as Ne,v as Ve,w as le,x as oe,y as vs,z as qt,A as de,C as $,B as ue,D as Se}from"./index-DTayauxn.js";import{P as We,a as He,C as xs,b as Qe,c as _s,F as xt,d as _t,E as bs,e as ws,R as Ss,T as bt,f as wt,g as Oe,h as B,i as St,j as q,k as kt}from"./ReturnsHistogram-DThSGTvG.js";import{B as Ae,g as ks,a as Cs,b as js,c as Rs,d as Ts,e as Ns}from"./api-CNNmOJT6.js";import{c as Es,L as Ye}from"./index-Czg2m92V.js";import{S as Os}from"./separator-AMGiFk8T.js";import"./generateCategoricalChart-xSD5sOcd.js";import"./BarChart-Drf8rBtt.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Ps=cs("refresh-ccw",As);var Is=class extends ds{constructor(t,e){super(),this.options=e,this.#s=t,this.#a=null,this.#r=gt(),this.bindMethods(),this.setOptions(e)}#s;#e=void 0;#m=void 0;#t=void 0;#i;#d;#r;#a;#p;#u;#h;#o;#l;#n;#f=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),Ct(this.#e,this.options)?this.#c():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return st(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return st(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#b(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,s=this.#e;if(this.options=this.#s.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof W(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#e.setOptions(this.options),e._defaulted&&!Ge(this.options,e)&&this.#s.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&jt(this.#e,s,this.options,e)&&this.#c(),this.updateResult(),r&&(this.#e!==s||W(this.options.enabled,this.#e)!==W(e.enabled,this.#e)||Ce(this.options.staleTime,this.#e)!==Ce(e.staleTime,this.#e))&&this.#g();const a=this.#y();r&&(this.#e!==s||W(this.options.enabled,this.#e)!==W(e.enabled,this.#e)||a!==this.#n)&&this.#v(a)}getOptimisticResult(t){const e=this.#s.getQueryCache().build(this.#s,t),s=this.createResult(e,t);return Ds(this,s)&&(this.#t=s,this.#d=this.options,this.#i=this.#e.state),s}getCurrentResult(){return this.#t}trackResult(t,e){return new Proxy(t,{get:(s,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#r.status==="pending"&&this.#r.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(t){this.#f.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#s.defaultQueryOptions(t),s=this.#s.getQueryCache().build(this.#s,e);return s.fetch().then(()=>this.createResult(s,e))}fetch(t){return this.#c({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#t))}#c(t){this.#w();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(et)),e}#g(){this.#_();const t=Ce(this.options.staleTime,this.#e);if(tt||this.#t.isStale||!yt(t))return;const s=us(this.#t.dataUpdatedAt,t)+1;this.#o=Ee.setTimeout(()=>{this.#t.isStale||this.updateResult()},s)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#n=t,!(tt||W(this.options.enabled,this.#e)===!1||!yt(this.#n)||this.#n===0)&&(this.#l=Ee.setInterval(()=>{(this.options.refetchIntervalInBackground||hs.isFocused())&&this.#c()},this.#n))}#x(){this.#g(),this.#v(this.#y())}#_(){this.#o&&(Ee.clearTimeout(this.#o),this.#o=void 0)}#b(){this.#l&&(Ee.clearInterval(this.#l),this.#l=void 0)}createResult(t,e){const s=this.#e,r=this.options,a=this.#t,n=this.#i,i=this.#d,c=t!==s?t.state:this.#m,{state:u}=t;let h={...u},w=!1,v;if(e._optimisticResults){const P=this.hasListeners(),O=!P&&Ct(t,e),d=P&&jt(t,s,e,r);(O||d)&&(h={...h,...fs(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:C,errorUpdatedAt:k,status:I}=h;v=h.data;let H=!1;if(e.placeholderData!==void 0&&v===void 0&&I==="pending"){let P;a?.isPlaceholderData&&e.placeholderData===i?.placeholderData?(P=a.data,H=!0):P=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,P!==void 0&&(I="success",v=vt(a?.data,P,e),w=!0)}if(e.select&&v!==void 0&&!H)if(a&&v===n?.data&&e.select===this.#p)v=this.#u;else try{this.#p=e.select,v=e.select(v),v=vt(a?.data,v,e),this.#u=v,this.#a=null}catch(P){this.#a=P}this.#a&&(C=this.#a,v=this.#u,k=Date.now(),I="error");const Z=h.fetchStatus==="fetching",z=I==="pending",Q=I==="error",G=z&&Z,ee=v!==void 0,L={status:I,fetchStatus:h.fetchStatus,isPending:z,isSuccess:I==="success",isError:Q,isInitialLoading:G,isLoading:G,data:v,dataUpdatedAt:h.dataUpdatedAt,error:C,errorUpdatedAt:k,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:Z,isRefetching:Z&&!z,isLoadingError:Q&&!ee,isPaused:h.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:Q&&ee,isStale:ut(t,e),refetch:this.refetch,promise:this.#r,isEnabled:W(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=R=>{L.status==="error"?R.reject(L.error):L.data!==void 0&&R.resolve(L.data)},O=()=>{const R=this.#r=L.promise=gt();P(R)},d=this.#r;switch(d.status){case"pending":t.queryHash===s.queryHash&&P(d);break;case"fulfilled":(L.status==="error"||L.data!==d.value)&&O();break;case"rejected":(L.status!=="error"||L.error!==d.reason)&&O();break}}return L}updateResult(){const t=this.#t,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#d=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Ge(e,t))return;this.#t=e;const s=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#f.size)return!0;const n=new Set(a??this.#f);return this.options.throwOnError&&n.add("error"),Object.keys(this.#t).some(i=>{const l=i;return this.#t[l]!==t[l]&&n.has(l)})};this.#S({listeners:s()})}#w(){const t=this.#s.getQueryCache().build(this.#s,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#m=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Bt.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#t)}),this.#s.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Ls(t,e){return W(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Ct(t,e){return Ls(t,e)||t.state.data!==void 0&&st(t,e,e.refetchOnMount)}function st(t,e,s){if(W(e.enabled,t)!==!1&&Ce(e.staleTime,t)!=="static"){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&ut(t,e)}return!1}function jt(t,e,s,r){return(t!==e||W(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&ut(t,s)}function ut(t,e){return W(e.enabled,t)!==!1&&t.isStaleByTime(Ce(e.staleTime,t))}function Ds(t,e){return!Ge(t.getCurrentResult(),e)}var Wt=p.createContext(!1),Zs=()=>p.useContext(Wt);Wt.Provider;function Ms(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var $s=p.createContext(Ms()),zs=()=>p.useContext($s),Vs=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Us=t=>{p.useEffect(()=>{t.clearReset()},[t])},Fs=({result:t,errorResetBoundary:e,throwOnError:s,query:r,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(a&&t.data===void 0||ms(s,[t.error,r])),Bs=t=>{if(t.suspense){const s=a=>a==="static"?a:Math.max(a??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...a)=>s(r(...a)):s(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},qs=(t,e)=>t.isLoading&&t.isFetching&&!e,Ws=(t,e)=>t?.suspense&&e.isPending,Rt=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function Hs(t,e,s){const r=Zs(),a=zs(),n=ps(),i=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=r?"isRestoring":"optimistic",Bs(i),Vs(i,a),Us(a);const l=!n.getQueryCache().get(i.queryHash),[c]=p.useState(()=>new e(n,i)),u=c.getOptimisticResult(i),h=!r&&t.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(w=>{const v=h?c.subscribe(Bt.batchCalls(w)):et;return c.updateResult(),v},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(i)},[i,c]),Ws(i,u))throw Rt(i,c,a);if(Fs({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(i,u),i.experimental_prefetchInRender&&!tt&&qs(u,r)&&(l?Rt(i,c,a):n.getQueryCache().get(i.queryHash)?.promise)?.catch(et).finally(()=>{c.updateResult()}),i.notifyOnChangeProps?u:c.trackResult(u)}function he(t,e){return Hs(t,Is)}function Qs(t,e){return p.useReducer((s,r)=>e[s][r]??s,t)}var ht="ScrollArea",[Ht]=ys(ht),[Ys,V]=Ht(ht),Qt=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,type:r="hover",dir:a,scrollHideDelay:n=600,...i}=t,[l,c]=p.useState(null),[u,h]=p.useState(null),[w,v]=p.useState(null),[C,k]=p.useState(null),[I,H]=p.useState(null),[Z,z]=p.useState(0),[Q,G]=p.useState(0),[ee,se]=p.useState(!1),[L,P]=p.useState(!1),O=we(e,R=>c(R)),d=gs(a);return o.jsx(Ys,{scope:s,type:r,dir:d,scrollHideDelay:n,scrollArea:l,viewport:u,onViewportChange:h,content:w,onContentChange:v,scrollbarX:C,onScrollbarXChange:k,scrollbarXEnabled:ee,onScrollbarXEnabledChange:se,scrollbarY:I,onScrollbarYChange:H,scrollbarYEnabled:L,onScrollbarYEnabledChange:P,onCornerWidthChange:z,onCornerHeightChange:G,children:o.jsx(Ne.div,{dir:d,...i,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":Z+"px","--radix-scroll-area-corner-height":Q+"px",...t.style}})})});Qt.displayName=ht;var Yt="ScrollAreaViewport",Xt=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,children:r,nonce:a,...n}=t,i=V(Yt,s),l=p.useRef(null),c=we(e,l,i.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(Ne.div,{"data-radix-scroll-area-viewport":"",...n,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:o.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Xt.displayName=Yt;var K="ScrollAreaScrollbar",Jt=p.forwardRef((t,e)=>{const{forceMount:s,...r}=t,a=V(K,t.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:i}=a,l=t.orientation==="horizontal";return p.useEffect(()=>(l?n(!0):i(!0),()=>{l?n(!1):i(!1)}),[l,n,i]),a.type==="hover"?o.jsx(Xs,{...r,ref:e,forceMount:s}):a.type==="scroll"?o.jsx(Js,{...r,ref:e,forceMount:s}):a.type==="auto"?o.jsx(Kt,{...r,ref:e,forceMount:s}):a.type==="always"?o.jsx(ft,{...r,ref:e}):null});Jt.displayName=K;var Xs=p.forwardRef((t,e)=>{const{forceMount:s,...r}=t,a=V(K,t.__scopeScrollArea),[n,i]=p.useState(!1);return p.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx(Ve,{present:s||n,children:o.jsx(Kt,{"data-state":n?"visible":"hidden",...r,ref:e})})}),Js=p.forwardRef((t,e)=>{const{forceMount:s,...r}=t,a=V(K,t.__scopeScrollArea),n=t.orientation==="horizontal",i=Fe(()=>c("SCROLL_END"),100),[l,c]=Qs("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),p.useEffect(()=>{const u=a.viewport,h=n?"scrollLeft":"scrollTop";if(u){let w=u[h];const v=()=>{const C=u[h];w!==C&&(c("SCROLL"),i()),w=C};return u.addEventListener("scroll",v),()=>u.removeEventListener("scroll",v)}},[a.viewport,n,c,i]),o.jsx(Ve,{present:s||l!=="hidden",children:o.jsx(ft,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:le(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:le(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Kt=p.forwardRef((t,e)=>{const s=V(K,t.__scopeScrollArea),{forceMount:r,...a}=t,[n,i]=p.useState(!1),l=t.orientation==="horizontal",c=Fe(()=>{if(s.viewport){const u=s.viewport.offsetWidth<s.viewport.scrollWidth,h=s.viewport.offsetHeight<s.viewport.scrollHeight;i(l?u:h)}},10);return ge(s.viewport,c),ge(s.content,c),o.jsx(Ve,{present:r||n,children:o.jsx(ft,{"data-state":n?"visible":"hidden",...a,ref:e})})}),ft=p.forwardRef((t,e)=>{const{orientation:s="vertical",...r}=t,a=V(K,t.__scopeScrollArea),n=p.useRef(null),i=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rs(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:v=>n.current=v,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:v=>i.current=v};function w(v,C){return rr(v,i.current,l,C)}return s==="horizontal"?o.jsx(Ks,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&n.current){const v=a.viewport.scrollLeft,C=Tt(v,l,a.dir);n.current.style.transform=`translate3d(${C}px, 0, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollLeft=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollLeft=w(v,a.dir))}}):s==="vertical"?o.jsx(Gs,{...h,ref:e,onThumbPositionChange:()=>{if(a.viewport&&n.current){const v=a.viewport.scrollTop,C=Tt(v,l);n.current.style.transform=`translate3d(0, ${C}px, 0)`}},onWheelScroll:v=>{a.viewport&&(a.viewport.scrollTop=v)},onDragScroll:v=>{a.viewport&&(a.viewport.scrollTop=w(v))}}):null}),Ks=p.forwardRef((t,e)=>{const{sizes:s,onSizesChange:r,...a}=t,n=V(K,t.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=we(e,c,n.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(es,{"data-orientation":"horizontal",...a,ref:u,sizes:s,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ue(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,w)=>{if(n.viewport){const v=n.viewport.scrollLeft+h.deltaX;t.onWheelScroll(v),ns(v,w)&&h.preventDefault()}},onResize:()=>{c.current&&n.viewport&&i&&r({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Le(i.paddingLeft),paddingEnd:Le(i.paddingRight)}})}})}),Gs=p.forwardRef((t,e)=>{const{sizes:s,onSizesChange:r,...a}=t,n=V(K,t.__scopeScrollArea),[i,l]=p.useState(),c=p.useRef(null),u=we(e,c,n.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),o.jsx(es,{"data-orientation":"vertical",...a,ref:u,sizes:s,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ue(s)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,w)=>{if(n.viewport){const v=n.viewport.scrollTop+h.deltaY;t.onWheelScroll(v),ns(v,w)&&h.preventDefault()}},onResize:()=>{c.current&&n.viewport&&i&&r({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Le(i.paddingTop),paddingEnd:Le(i.paddingBottom)}})}})}),[er,Gt]=Ht(K),es=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,sizes:r,hasThumb:a,onThumbChange:n,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:w,...v}=t,C=V(K,s),[k,I]=p.useState(null),H=we(e,O=>I(O)),Z=p.useRef(null),z=p.useRef(""),Q=C.viewport,G=r.content-r.viewport,ee=oe(h),se=oe(c),L=Fe(w,10);function P(O){if(Z.current){const d=O.clientX-Z.current.left,R=O.clientY-Z.current.top;u({x:d,y:R})}}return p.useEffect(()=>{const O=d=>{const R=d.target;k?.contains(R)&&ee(d,G)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[Q,k,G,ee]),p.useEffect(se,[r,se]),ge(k,L),ge(C.content,L),o.jsx(er,{scope:s,scrollbar:k,hasThumb:a,onThumbChange:oe(n),onThumbPointerUp:oe(i),onThumbPositionChange:se,onThumbPointerDown:oe(l),children:o.jsx(Ne.div,{...v,ref:H,style:{position:"absolute",...v.style},onPointerDown:le(t.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),Z.current=k.getBoundingClientRect(),z.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",C.viewport&&(C.viewport.style.scrollBehavior="auto"),P(O))}),onPointerMove:le(t.onPointerMove,P),onPointerUp:le(t.onPointerUp,O=>{const d=O.target;d.hasPointerCapture(O.pointerId)&&d.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=z.current,C.viewport&&(C.viewport.style.scrollBehavior=""),Z.current=null})})})}),Ie="ScrollAreaThumb",ts=p.forwardRef((t,e)=>{const{forceMount:s,...r}=t,a=Gt(Ie,t.__scopeScrollArea);return o.jsx(Ve,{present:s||a.hasThumb,children:o.jsx(tr,{ref:e,...r})})}),tr=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,style:r,...a}=t,n=V(Ie,s),i=Gt(Ie,s),{onThumbPositionChange:l}=i,c=we(e,w=>i.onThumbChange(w)),u=p.useRef(void 0),h=Fe(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const w=n.viewport;if(w){const v=()=>{if(h(),!u.current){const C=ar(w,l);u.current=C,l()}};return l(),w.addEventListener("scroll",v),()=>w.removeEventListener("scroll",v)}},[n.viewport,h,l]),o.jsx(Ne.div,{"data-state":i.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:le(t.onPointerDownCapture,w=>{const C=w.target.getBoundingClientRect(),k=w.clientX-C.left,I=w.clientY-C.top;i.onThumbPointerDown({x:k,y:I})}),onPointerUp:le(t.onPointerUp,i.onThumbPointerUp)})});ts.displayName=Ie;var mt="ScrollAreaCorner",ss=p.forwardRef((t,e)=>{const s=V(mt,t.__scopeScrollArea),r=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&r?o.jsx(sr,{...t,ref:e}):null});ss.displayName=mt;var sr=p.forwardRef((t,e)=>{const{__scopeScrollArea:s,...r}=t,a=V(mt,s),[n,i]=p.useState(0),[l,c]=p.useState(0),u=!!(n&&l);return ge(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),c(h)}),ge(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),i(h)}),u?o.jsx(Ne.div,{...r,ref:e,style:{width:n,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Le(t){return t?parseInt(t,10):0}function rs(t,e){const s=t/e;return isNaN(s)?0:s}function Ue(t){const e=rs(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-s)*e;return Math.max(r,18)}function rr(t,e,s,r="ltr"){const a=Ue(s),n=a/2,i=e||n,l=a-i,c=s.scrollbar.paddingStart+i,u=s.scrollbar.size-s.scrollbar.paddingEnd-l,h=s.content-s.viewport,w=r==="ltr"?[0,h]:[h*-1,0];return as([c,u],w)(t)}function Tt(t,e,s="ltr"){const r=Ue(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=e.scrollbar.size-a,i=e.content-e.viewport,l=n-r,c=s==="ltr"?[0,i]:[i*-1,0],u=Es(t,c);return as([0,i],[0,l])(u)}function as(t,e){return s=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(s-t[0])}}function ns(t,e){return t>0&&t<e}var ar=(t,e=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},r=0;return(function a(){const n={left:t.scrollLeft,top:t.scrollTop},i=s.left!==n.left,l=s.top!==n.top;(i||l)&&e(),s=n,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function Fe(t,e){const s=oe(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(s,e)},[s,e])}function ge(t,e){const s=oe(e);vs(()=>{let r=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(s)});return a.observe(t),()=>{window.cancelAnimationFrame(r),a.unobserve(t)}}},[t,s])}var nr=Qt,ir=Xt,or=ss;function Xe({className:t,children:e,...s}){return o.jsxs(nr,{"data-slot":"scroll-area",className:qt("relative",t),...s,children:[o.jsx(ir,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),o.jsx(lr,{}),o.jsx(or,{})]})}function lr({className:t,orientation:e="vertical",...s}){return o.jsx(Jt,{"data-slot":"scroll-area-scrollbar",orientation:e,className:qt("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:o.jsx(ts,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var T;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function s(a){throw new Error}t.assertNever=s,t.arrayToEnum=a=>{const n={};for(const i of a)n[i]=i;return n},t.getValidEnumValues=a=>{const n=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),i={};for(const l of n)i[l]=a[l];return t.objectValues(i)},t.objectValues=a=>t.objectKeys(a).map(function(n){return a[n]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const n=[];for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.push(i);return n},t.find=(a,n)=>{for(const i of a)if(n(i))return i},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function r(a,n=" | "){return a.map(i=>typeof i=="string"?`'${i}'`:i).join(n)}t.joinValues=r,t.jsonStringifyReplacer=(a,n)=>typeof n=="bigint"?n.toString():n})(T||(T={}));var Nt;(function(t){t.mergeShapes=(e,s)=>({...e,...s})})(Nt||(Nt={}));const g=T.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ae=t=>{switch(typeof t){case"undefined":return g.undefined;case"string":return g.string;case"number":return Number.isNaN(t)?g.nan:g.number;case"boolean":return g.boolean;case"function":return g.function;case"bigint":return g.bigint;case"symbol":return g.symbol;case"object":return Array.isArray(t)?g.array:t===null?g.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?g.promise:typeof Map<"u"&&t instanceof Map?g.map:typeof Set<"u"&&t instanceof Set?g.set:typeof Date<"u"&&t instanceof Date?g.date:g.object;default:return g.unknown}},f=T.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class X extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=e}format(e){const s=e||function(n){return n.message},r={_errors:[]},a=n=>{for(const i of n.issues)if(i.code==="invalid_union")i.unionErrors.map(a);else if(i.code==="invalid_return_type")a(i.returnTypeError);else if(i.code==="invalid_arguments")a(i.argumentsError);else if(i.path.length===0)r._errors.push(s(i));else{let l=r,c=0;for(;c<i.path.length;){const u=i.path[c];c===i.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(s(i))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),r}static assert(e){if(!(e instanceof X))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,T.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=s=>s.message){const s={},r=[];for(const a of this.issues)if(a.path.length>0){const n=a.path[0];s[n]=s[n]||[],s[n].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:s}}get formErrors(){return this.flatten()}}X.create=t=>new X(t);const rt=(t,e)=>{let s;switch(t.code){case f.invalid_type:t.received===g.undefined?s="Required":s=`Expected ${t.expected}, received ${t.received}`;break;case f.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(t.expected,T.jsonStringifyReplacer)}`;break;case f.unrecognized_keys:s=`Unrecognized key(s) in object: ${T.joinValues(t.keys,", ")}`;break;case f.invalid_union:s="Invalid input";break;case f.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${T.joinValues(t.options)}`;break;case f.invalid_enum_value:s=`Invalid enum value. Expected ${T.joinValues(t.options)}, received '${t.received}'`;break;case f.invalid_arguments:s="Invalid function arguments";break;case f.invalid_return_type:s="Invalid function return type";break;case f.invalid_date:s="Invalid date";break;case f.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(s=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?s=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?s=`Invalid input: must end with "${t.validation.endsWith}"`:T.assertNever(t.validation):t.validation!=="regex"?s=`Invalid ${t.validation}`:s="Invalid";break;case f.too_small:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?s=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:s="Invalid input";break;case f.too_big:t.type==="array"?s=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?s=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?s=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?s=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?s=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:s="Invalid input";break;case f.custom:s="Invalid input";break;case f.invalid_intersection_types:s="Intersection results could not be merged";break;case f.not_multiple_of:s=`Number must be a multiple of ${t.multipleOf}`;break;case f.not_finite:s="Number must be finite";break;default:s=e.defaultError,T.assertNever(t)}return{message:s}};let cr=rt;function dr(){return cr}const ur=t=>{const{data:e,path:s,errorMaps:r,issueData:a}=t,n=[...s,...a.path||[]],i={...a,path:n};if(a.message!==void 0)return{...a,path:n,message:a.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(i,{data:e,defaultError:l}).message;return{...a,path:n,message:l}};function m(t,e){const s=dr(),r=ur({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,s,s===rt?void 0:rt].filter(a=>!!a)});t.common.issues.push(r)}class M{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,s){const r=[];for(const a of s){if(a.status==="aborted")return b;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,s){const r=[];for(const a of s){const n=await a.key,i=await a.value;r.push({key:n,value:i})}return M.mergeObjectSync(e,r)}static mergeObjectSync(e,s){const r={};for(const a of s){const{key:n,value:i}=a;if(n.status==="aborted"||i.status==="aborted")return b;n.status==="dirty"&&e.dirty(),i.status==="dirty"&&e.dirty(),n.value!=="__proto__"&&(typeof i.value<"u"||a.alwaysSet)&&(r[n.value]=i.value)}return{status:e.value,value:r}}}const b=Object.freeze({status:"aborted"}),ke=t=>({status:"dirty",value:t}),U=t=>({status:"valid",value:t}),Et=t=>t.status==="aborted",Ot=t=>t.status==="dirty",ye=t=>t.status==="valid",De=t=>typeof Promise<"u"&&t instanceof Promise;var y;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(y||(y={}));class J{constructor(e,s,r,a){this._cachedPath=[],this.parent=e,this.data=s,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const At=(t,e)=>{if(ye(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const s=new X(t.common.issues);return this._error=s,this._error}}};function S(t){if(!t)return{};const{errorMap:e,invalid_type_error:s,required_error:r,description:a}=t;if(e&&(s||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(i,l)=>{const{message:c}=t;return i.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:i.code!=="invalid_type"?{message:l.defaultError}:{message:c??s??l.defaultError}},description:a}}class j{get description(){return this._def.description}_getType(e){return ae(e.data)}_getOrReturnCtx(e,s){return s||{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new M,ctx:{common:e.parent.common,data:e.data,parsedType:ae(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const s=this._parse(e);if(De(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(e){const s=this._parse(e);return Promise.resolve(s)}parse(e,s){const r=this.safeParse(e,s);if(r.success)return r.data;throw r.error}safeParse(e,s){const r={common:{issues:[],async:s?.async??!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},a=this._parseSync({data:e,path:r.path,parent:r});return At(r,a)}"~validate"(e){const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:s});return ye(r)?{value:r.value}:{issues:s.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(r=>ye(r)?{value:r.value}:{issues:s.common.issues})}async parseAsync(e,s){const r=await this.safeParseAsync(e,s);if(r.success)return r.data;throw r.error}async safeParseAsync(e,s){const r={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ae(e)},a=this._parse({data:e,path:r.path,parent:r}),n=await(De(a)?a:Promise.resolve(a));return At(r,n)}refine(e,s){const r=a=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(a):s;return this._refinement((a,n)=>{const i=e(a),l=()=>n.addIssue({code:f.custom,...r(a)});return typeof Promise<"u"&&i instanceof Promise?i.then(c=>c?!0:(l(),!1)):i?!0:(l(),!1)})}refinement(e,s){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof s=="function"?s(r,a):s),!1))}_refinement(e){return new _e({schema:this,typeName:_.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:s=>this["~validate"](s)}}optional(){return ne.create(this,this._def)}nullable(){return be.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Y.create(this)}promise(){return ze.create(this,this._def)}or(e){return Ze.create([this,e],this._def)}and(e){return Me.create(this,e,this._def)}transform(e){return new _e({...S(this._def),schema:this,typeName:_.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const s=typeof e=="function"?e:()=>e;return new lt({...S(this._def),innerType:this,defaultValue:s,typeName:_.ZodDefault})}brand(){return new Ir({typeName:_.ZodBranded,type:this,...S(this._def)})}catch(e){const s=typeof e=="function"?e:()=>e;return new ct({...S(this._def),innerType:this,catchValue:s,typeName:_.ZodCatch})}describe(e){const s=this.constructor;return new s({...this._def,description:e})}pipe(e){return pt.create(this,e)}readonly(){return dt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hr=/^c[^\s-]{8,}$/i,fr=/^[0-9a-z]+$/,mr=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pr=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,gr=/^[a-z0-9_-]{21}$/i,yr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_r="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Je;const br=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Sr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Cr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jr=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,is="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Rr=new RegExp(`^${is}$`);function os(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const s=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${s}`}function Tr(t){return new RegExp(`^${os(t)}$`)}function Nr(t){let e=`${is}T${os(t)}`;const s=[];return s.push(t.local?"Z?":"Z"),t.offset&&s.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${s.join("|")})`,new RegExp(`^${e}$`)}function Er(t,e){return!!((e==="v4"||!e)&&br.test(t)||(e==="v6"||!e)&&Sr.test(t))}function Or(t,e){if(!yr.test(t))return!1;try{const[s]=t.split(".");if(!s)return!1;const r=s.replace(/-/g,"+").replace(/_/g,"/").padEnd(s.length+(4-s.length%4)%4,"="),a=JSON.parse(atob(r));return!(typeof a!="object"||a===null||"typ"in a&&a?.typ!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function Ar(t,e){return!!((e==="v4"||!e)&&wr.test(t)||(e==="v6"||!e)&&kr.test(t))}class te extends j{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==g.string){const n=this._getOrReturnCtx(e);return m(n,{code:f.invalid_type,expected:g.string,received:n.parsedType}),b}const r=new M;let a;for(const n of this._def.checks)if(n.kind==="min")e.data.length<n.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:f.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="max")e.data.length>n.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:f.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!1,message:n.message}),r.dirty());else if(n.kind==="length"){const i=e.data.length>n.value,l=e.data.length<n.value;(i||l)&&(a=this._getOrReturnCtx(e,a),i?m(a,{code:f.too_big,maximum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}):l&&m(a,{code:f.too_small,minimum:n.value,type:"string",inclusive:!0,exact:!0,message:n.message}),r.dirty())}else if(n.kind==="email")xr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"email",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="emoji")Je||(Je=new RegExp(_r,"u")),Je.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"emoji",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="uuid")pr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"uuid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="nanoid")gr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"nanoid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid")hr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"cuid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="cuid2")fr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"cuid2",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="ulid")mr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"ulid",code:f.invalid_string,message:n.message}),r.dirty());else if(n.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),m(a,{validation:"url",code:f.invalid_string,message:n.message}),r.dirty()}else n.kind==="regex"?(n.regex.lastIndex=0,n.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"regex",code:f.invalid_string,message:n.message}),r.dirty())):n.kind==="trim"?e.data=e.data.trim():n.kind==="includes"?e.data.includes(n.value,n.position)||(a=this._getOrReturnCtx(e,a),m(a,{code:f.invalid_string,validation:{includes:n.value,position:n.position},message:n.message}),r.dirty()):n.kind==="toLowerCase"?e.data=e.data.toLowerCase():n.kind==="toUpperCase"?e.data=e.data.toUpperCase():n.kind==="startsWith"?e.data.startsWith(n.value)||(a=this._getOrReturnCtx(e,a),m(a,{code:f.invalid_string,validation:{startsWith:n.value},message:n.message}),r.dirty()):n.kind==="endsWith"?e.data.endsWith(n.value)||(a=this._getOrReturnCtx(e,a),m(a,{code:f.invalid_string,validation:{endsWith:n.value},message:n.message}),r.dirty()):n.kind==="datetime"?Nr(n).test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:f.invalid_string,validation:"datetime",message:n.message}),r.dirty()):n.kind==="date"?Rr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:f.invalid_string,validation:"date",message:n.message}),r.dirty()):n.kind==="time"?Tr(n).test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{code:f.invalid_string,validation:"time",message:n.message}),r.dirty()):n.kind==="duration"?vr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"duration",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="ip"?Er(e.data,n.version)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"ip",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="jwt"?Or(e.data,n.alg)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"jwt",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="cidr"?Ar(e.data,n.version)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"cidr",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="base64"?Cr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"base64",code:f.invalid_string,message:n.message}),r.dirty()):n.kind==="base64url"?jr.test(e.data)||(a=this._getOrReturnCtx(e,a),m(a,{validation:"base64url",code:f.invalid_string,message:n.message}),r.dirty()):T.assertNever(n);return{status:r.value,value:e.data}}_regex(e,s,r){return this.refinement(a=>e.test(a),{validation:s,code:f.invalid_string,...y.errToObj(r)})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...y.errToObj(e)})}url(e){return this._addCheck({kind:"url",...y.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...y.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...y.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...y.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...y.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...y.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...y.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...y.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...y.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...y.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...y.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...y.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...y.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...y.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...y.errToObj(e)})}regex(e,s){return this._addCheck({kind:"regex",regex:e,...y.errToObj(s)})}includes(e,s){return this._addCheck({kind:"includes",value:e,position:s?.position,...y.errToObj(s?.message)})}startsWith(e,s){return this._addCheck({kind:"startsWith",value:e,...y.errToObj(s)})}endsWith(e,s){return this._addCheck({kind:"endsWith",value:e,...y.errToObj(s)})}min(e,s){return this._addCheck({kind:"min",value:e,...y.errToObj(s)})}max(e,s){return this._addCheck({kind:"max",value:e,...y.errToObj(s)})}length(e,s){return this._addCheck({kind:"length",value:e,...y.errToObj(s)})}nonempty(e){return this.min(1,y.errToObj(e))}trim(){return new te({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new te({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new te({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxLength(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}te.create=t=>new te({checks:[],typeName:_.ZodString,coerce:t?.coerce??!1,...S(t)});function Pr(t,e){const s=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=s>r?s:r,n=Number.parseInt(t.toFixed(a).replace(".","")),i=Number.parseInt(e.toFixed(a).replace(".",""));return n%i/10**a}class ve extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==g.number){const n=this._getOrReturnCtx(e);return m(n,{code:f.invalid_type,expected:g.number,received:n.parsedType}),b}let r;const a=new M;for(const n of this._def.checks)n.kind==="int"?T.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),m(r,{code:f.invalid_type,expected:"integer",received:"float",message:n.message}),a.dirty()):n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:f.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:f.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),a.dirty()):n.kind==="multipleOf"?Pr(e.data,n.value)!==0&&(r=this._getOrReturnCtx(e,r),m(r,{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):n.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),m(r,{code:f.not_finite,message:n.message}),a.dirty()):T.assertNever(n);return{status:a.value,value:e.data}}gte(e,s){return this.setLimit("min",e,!0,y.toString(s))}gt(e,s){return this.setLimit("min",e,!1,y.toString(s))}lte(e,s){return this.setLimit("max",e,!0,y.toString(s))}lt(e,s){return this.setLimit("max",e,!1,y.toString(s))}setLimit(e,s,r,a){return new ve({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:y.toString(a)}]})}_addCheck(e){return new ve({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:y.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:y.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(s)})}finite(e){return this._addCheck({kind:"finite",message:y.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:y.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:y.toString(e)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&T.isInteger(e.value))}get isFinite(){let e=null,s=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(s===null||r.value>s)&&(s=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(s)&&Number.isFinite(e)}}ve.create=t=>new ve({checks:[],typeName:_.ZodNumber,coerce:t?.coerce||!1,...S(t)});class je extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==g.bigint)return this._getInvalidInput(e);let r;const a=new M;for(const n of this._def.checks)n.kind==="min"?(n.inclusive?e.data<n.value:e.data<=n.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:f.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="max"?(n.inclusive?e.data>n.value:e.data>=n.value)&&(r=this._getOrReturnCtx(e,r),m(r,{code:f.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),a.dirty()):n.kind==="multipleOf"?e.data%n.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),m(r,{code:f.not_multiple_of,multipleOf:n.value,message:n.message}),a.dirty()):T.assertNever(n);return{status:a.value,value:e.data}}_getInvalidInput(e){const s=this._getOrReturnCtx(e);return m(s,{code:f.invalid_type,expected:g.bigint,received:s.parsedType}),b}gte(e,s){return this.setLimit("min",e,!0,y.toString(s))}gt(e,s){return this.setLimit("min",e,!1,y.toString(s))}lte(e,s){return this.setLimit("max",e,!0,y.toString(s))}lt(e,s){return this.setLimit("max",e,!1,y.toString(s))}setLimit(e,s,r,a){return new je({...this._def,checks:[...this._def.checks,{kind:e,value:s,inclusive:r,message:y.toString(a)}]})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:y.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:y.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:y.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:y.toString(e)})}multipleOf(e,s){return this._addCheck({kind:"multipleOf",value:e,message:y.toString(s)})}get minValue(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e}get maxValue(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e}}je.create=t=>new je({checks:[],typeName:_.ZodBigInt,coerce:t?.coerce??!1,...S(t)});class at extends j{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==g.boolean){const r=this._getOrReturnCtx(e);return m(r,{code:f.invalid_type,expected:g.boolean,received:r.parsedType}),b}return U(e.data)}}at.create=t=>new at({typeName:_.ZodBoolean,coerce:t?.coerce||!1,...S(t)});class Re extends j{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==g.date){const n=this._getOrReturnCtx(e);return m(n,{code:f.invalid_type,expected:g.date,received:n.parsedType}),b}if(Number.isNaN(e.data.getTime())){const n=this._getOrReturnCtx(e);return m(n,{code:f.invalid_date}),b}const r=new M;let a;for(const n of this._def.checks)n.kind==="min"?e.data.getTime()<n.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:f.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):n.kind==="max"?e.data.getTime()>n.value&&(a=this._getOrReturnCtx(e,a),m(a,{code:f.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):T.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Re({...this._def,checks:[...this._def.checks,e]})}min(e,s){return this._addCheck({kind:"min",value:e.getTime(),message:y.toString(s)})}max(e,s){return this._addCheck({kind:"max",value:e.getTime(),message:y.toString(s)})}get minDate(){let e=null;for(const s of this._def.checks)s.kind==="min"&&(e===null||s.value>e)&&(e=s.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const s of this._def.checks)s.kind==="max"&&(e===null||s.value<e)&&(e=s.value);return e!=null?new Date(e):null}}Re.create=t=>new Re({checks:[],coerce:t?.coerce||!1,typeName:_.ZodDate,...S(t)});class Pt extends j{_parse(e){if(this._getType(e)!==g.symbol){const r=this._getOrReturnCtx(e);return m(r,{code:f.invalid_type,expected:g.symbol,received:r.parsedType}),b}return U(e.data)}}Pt.create=t=>new Pt({typeName:_.ZodSymbol,...S(t)});class It extends j{_parse(e){if(this._getType(e)!==g.undefined){const r=this._getOrReturnCtx(e);return m(r,{code:f.invalid_type,expected:g.undefined,received:r.parsedType}),b}return U(e.data)}}It.create=t=>new It({typeName:_.ZodUndefined,...S(t)});class Lt extends j{_parse(e){if(this._getType(e)!==g.null){const r=this._getOrReturnCtx(e);return m(r,{code:f.invalid_type,expected:g.null,received:r.parsedType}),b}return U(e.data)}}Lt.create=t=>new Lt({typeName:_.ZodNull,...S(t)});class nt extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return U(e.data)}}nt.create=t=>new nt({typeName:_.ZodAny,...S(t)});class it extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return U(e.data)}}it.create=t=>new it({typeName:_.ZodUnknown,...S(t)});class ie extends j{_parse(e){const s=this._getOrReturnCtx(e);return m(s,{code:f.invalid_type,expected:g.never,received:s.parsedType}),b}}ie.create=t=>new ie({typeName:_.ZodNever,...S(t)});class Dt extends j{_parse(e){if(this._getType(e)!==g.undefined){const r=this._getOrReturnCtx(e);return m(r,{code:f.invalid_type,expected:g.void,received:r.parsedType}),b}return U(e.data)}}Dt.create=t=>new Dt({typeName:_.ZodVoid,...S(t)});class Y extends j{_parse(e){const{ctx:s,status:r}=this._processInputParams(e),a=this._def;if(s.parsedType!==g.array)return m(s,{code:f.invalid_type,expected:g.array,received:s.parsedType}),b;if(a.exactLength!==null){const i=s.data.length>a.exactLength.value,l=s.data.length<a.exactLength.value;(i||l)&&(m(s,{code:i?f.too_big:f.too_small,minimum:l?a.exactLength.value:void 0,maximum:i?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&s.data.length<a.minLength.value&&(m(s,{code:f.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&s.data.length>a.maxLength.value&&(m(s,{code:f.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),s.common.async)return Promise.all([...s.data].map((i,l)=>a.type._parseAsync(new J(s,i,s.path,l)))).then(i=>M.mergeArray(r,i));const n=[...s.data].map((i,l)=>a.type._parseSync(new J(s,i,s.path,l)));return M.mergeArray(r,n)}get element(){return this._def.type}min(e,s){return new Y({...this._def,minLength:{value:e,message:y.toString(s)}})}max(e,s){return new Y({...this._def,maxLength:{value:e,message:y.toString(s)}})}length(e,s){return new Y({...this._def,exactLength:{value:e,message:y.toString(s)}})}nonempty(e){return this.min(1,e)}}Y.create=(t,e)=>new Y({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_.ZodArray,...S(e)});function pe(t){if(t instanceof A){const e={};for(const s in t.shape){const r=t.shape[s];e[s]=ne.create(pe(r))}return new A({...t._def,shape:()=>e})}else return t instanceof Y?new Y({...t._def,type:pe(t.element)}):t instanceof ne?ne.create(pe(t.unwrap())):t instanceof be?be.create(pe(t.unwrap())):t instanceof ce?ce.create(t.items.map(e=>pe(e))):t}class A extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),s=T.objectKeys(e);return this._cached={shape:e,keys:s},this._cached}_parse(e){if(this._getType(e)!==g.object){const u=this._getOrReturnCtx(e);return m(u,{code:f.invalid_type,expected:g.object,received:u.parsedType}),b}const{status:r,ctx:a}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),l=[];if(!(this._def.catchall instanceof ie&&this._def.unknownKeys==="strip"))for(const u in a.data)i.includes(u)||l.push(u);const c=[];for(const u of i){const h=n[u],w=a.data[u];c.push({key:{status:"valid",value:u},value:h._parse(new J(a,w,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof ie){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of l)c.push({key:{status:"valid",value:h},value:{status:"valid",value:a.data[h]}});else if(u==="strict")l.length>0&&(m(a,{code:f.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of l){const w=a.data[h];c.push({key:{status:"valid",value:h},value:u._parse(new J(a,w,a.path,h)),alwaysSet:h in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of c){const w=await h.key,v=await h.value;u.push({key:w,value:v,alwaysSet:h.alwaysSet})}return u}).then(u=>M.mergeObjectSync(r,u)):M.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return y.errToObj,new A({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(s,r)=>{const a=this._def.errorMap?.(s,r).message??r.defaultError;return s.code==="unrecognized_keys"?{message:y.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new A({...this._def,unknownKeys:"strip"})}passthrough(){return new A({...this._def,unknownKeys:"passthrough"})}extend(e){return new A({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new A({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_.ZodObject})}setKey(e,s){return this.augment({[e]:s})}catchall(e){return new A({...this._def,catchall:e})}pick(e){const s={};for(const r of T.objectKeys(e))e[r]&&this.shape[r]&&(s[r]=this.shape[r]);return new A({...this._def,shape:()=>s})}omit(e){const s={};for(const r of T.objectKeys(this.shape))e[r]||(s[r]=this.shape[r]);return new A({...this._def,shape:()=>s})}deepPartial(){return pe(this)}partial(e){const s={};for(const r of T.objectKeys(this.shape)){const a=this.shape[r];e&&!e[r]?s[r]=a:s[r]=a.optional()}return new A({...this._def,shape:()=>s})}required(e){const s={};for(const r of T.objectKeys(this.shape))if(e&&!e[r])s[r]=this.shape[r];else{let n=this.shape[r];for(;n instanceof ne;)n=n._def.innerType;s[r]=n}return new A({...this._def,shape:()=>s})}keyof(){return ls(T.objectKeys(this.shape))}}A.create=(t,e)=>new A({shape:()=>t,unknownKeys:"strip",catchall:ie.create(),typeName:_.ZodObject,...S(e)});A.strictCreate=(t,e)=>new A({shape:()=>t,unknownKeys:"strict",catchall:ie.create(),typeName:_.ZodObject,...S(e)});A.lazycreate=(t,e)=>new A({shape:t,unknownKeys:"strip",catchall:ie.create(),typeName:_.ZodObject,...S(e)});class Ze extends j{_parse(e){const{ctx:s}=this._processInputParams(e),r=this._def.options;function a(n){for(const l of n)if(l.result.status==="valid")return l.result;for(const l of n)if(l.result.status==="dirty")return s.common.issues.push(...l.ctx.common.issues),l.result;const i=n.map(l=>new X(l.ctx.common.issues));return m(s,{code:f.invalid_union,unionErrors:i}),b}if(s.common.async)return Promise.all(r.map(async n=>{const i={...s,common:{...s.common,issues:[]},parent:null};return{result:await n._parseAsync({data:s.data,path:s.path,parent:i}),ctx:i}})).then(a);{let n;const i=[];for(const c of r){const u={...s,common:{...s.common,issues:[]},parent:null},h=c._parseSync({data:s.data,path:s.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!n&&(n={result:h,ctx:u}),u.common.issues.length&&i.push(u.common.issues)}if(n)return s.common.issues.push(...n.ctx.common.issues),n.result;const l=i.map(c=>new X(c));return m(s,{code:f.invalid_union,unionErrors:l}),b}}get options(){return this._def.options}}Ze.create=(t,e)=>new Ze({options:t,typeName:_.ZodUnion,...S(e)});function ot(t,e){const s=ae(t),r=ae(e);if(t===e)return{valid:!0,data:t};if(s===g.object&&r===g.object){const a=T.objectKeys(e),n=T.objectKeys(t).filter(l=>a.indexOf(l)!==-1),i={...t,...e};for(const l of n){const c=ot(t[l],e[l]);if(!c.valid)return{valid:!1};i[l]=c.data}return{valid:!0,data:i}}else if(s===g.array&&r===g.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let n=0;n<t.length;n++){const i=t[n],l=e[n],c=ot(i,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return s===g.date&&r===g.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Me extends j{_parse(e){const{status:s,ctx:r}=this._processInputParams(e),a=(n,i)=>{if(Et(n)||Et(i))return b;const l=ot(n.value,i.value);return l.valid?((Ot(n)||Ot(i))&&s.dirty(),{status:s.value,value:l.data}):(m(r,{code:f.invalid_intersection_types}),b)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([n,i])=>a(n,i)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Me.create=(t,e,s)=>new Me({left:t,right:e,typeName:_.ZodIntersection,...S(s)});class ce extends j{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.array)return m(r,{code:f.invalid_type,expected:g.array,received:r.parsedType}),b;if(r.data.length<this._def.items.length)return m(r,{code:f.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),b;!this._def.rest&&r.data.length>this._def.items.length&&(m(r,{code:f.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());const n=[...r.data].map((i,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new J(r,i,r.path,l)):null}).filter(i=>!!i);return r.common.async?Promise.all(n).then(i=>M.mergeArray(s,i)):M.mergeArray(s,n)}get items(){return this._def.items}rest(e){return new ce({...this._def,rest:e})}}ce.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ce({items:t,typeName:_.ZodTuple,rest:null,...S(e)})};class $e extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.object)return m(r,{code:f.invalid_type,expected:g.object,received:r.parsedType}),b;const a=[],n=this._def.keyType,i=this._def.valueType;for(const l in r.data)a.push({key:n._parse(new J(r,l,r.path,l)),value:i._parse(new J(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?M.mergeObjectAsync(s,a):M.mergeObjectSync(s,a)}get element(){return this._def.valueType}static create(e,s,r){return s instanceof j?new $e({keyType:e,valueType:s,typeName:_.ZodRecord,...S(r)}):new $e({keyType:te.create(),valueType:e,typeName:_.ZodRecord,...S(s)})}}class Zt extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.map)return m(r,{code:f.invalid_type,expected:g.map,received:r.parsedType}),b;const a=this._def.keyType,n=this._def.valueType,i=[...r.data.entries()].map(([l,c],u)=>({key:a._parse(new J(r,l,r.path,[u,"key"])),value:n._parse(new J(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of i){const u=await c.key,h=await c.value;if(u.status==="aborted"||h.status==="aborted")return b;(u.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(u.value,h.value)}return{status:s.value,value:l}})}else{const l=new Map;for(const c of i){const u=c.key,h=c.value;if(u.status==="aborted"||h.status==="aborted")return b;(u.status==="dirty"||h.status==="dirty")&&s.dirty(),l.set(u.value,h.value)}return{status:s.value,value:l}}}}Zt.create=(t,e,s)=>new Zt({valueType:e,keyType:t,typeName:_.ZodMap,...S(s)});class Te extends j{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.parsedType!==g.set)return m(r,{code:f.invalid_type,expected:g.set,received:r.parsedType}),b;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(m(r,{code:f.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),s.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(m(r,{code:f.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),s.dirty());const n=this._def.valueType;function i(c){const u=new Set;for(const h of c){if(h.status==="aborted")return b;h.status==="dirty"&&s.dirty(),u.add(h.value)}return{status:s.value,value:u}}const l=[...r.data.values()].map((c,u)=>n._parse(new J(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>i(c)):i(l)}min(e,s){return new Te({...this._def,minSize:{value:e,message:y.toString(s)}})}max(e,s){return new Te({...this._def,maxSize:{value:e,message:y.toString(s)}})}size(e,s){return this.min(e,s).max(e,s)}nonempty(e){return this.min(1,e)}}Te.create=(t,e)=>new Te({valueType:t,minSize:null,maxSize:null,typeName:_.ZodSet,...S(e)});class Mt extends j{get schema(){return this._def.getter()}_parse(e){const{ctx:s}=this._processInputParams(e);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}}Mt.create=(t,e)=>new Mt({getter:t,typeName:_.ZodLazy,...S(e)});class $t extends j{_parse(e){if(e.data!==this._def.value){const s=this._getOrReturnCtx(e);return m(s,{received:s.data,code:f.invalid_literal,expected:this._def.value}),b}return{status:"valid",value:e.data}}get value(){return this._def.value}}$t.create=(t,e)=>new $t({value:t,typeName:_.ZodLiteral,...S(e)});function ls(t,e){return new xe({values:t,typeName:_.ZodEnum,...S(e)})}class xe extends j{_parse(e){if(typeof e.data!="string"){const s=this._getOrReturnCtx(e),r=this._def.values;return m(s,{expected:T.joinValues(r),received:s.parsedType,code:f.invalid_type}),b}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const s=this._getOrReturnCtx(e),r=this._def.values;return m(s,{received:s.data,code:f.invalid_enum_value,options:r}),b}return U(e.data)}get options(){return this._def.values}get enum(){const e={};for(const s of this._def.values)e[s]=s;return e}get Values(){const e={};for(const s of this._def.values)e[s]=s;return e}get Enum(){const e={};for(const s of this._def.values)e[s]=s;return e}extract(e,s=this._def){return xe.create(e,{...this._def,...s})}exclude(e,s=this._def){return xe.create(this.options.filter(r=>!e.includes(r)),{...this._def,...s})}}xe.create=ls;class zt extends j{_parse(e){const s=T.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==g.string&&r.parsedType!==g.number){const a=T.objectValues(s);return m(r,{expected:T.joinValues(a),received:r.parsedType,code:f.invalid_type}),b}if(this._cache||(this._cache=new Set(T.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=T.objectValues(s);return m(r,{received:r.data,code:f.invalid_enum_value,options:a}),b}return U(e.data)}get enum(){return this._def.values}}zt.create=(t,e)=>new zt({values:t,typeName:_.ZodNativeEnum,...S(e)});class ze extends j{unwrap(){return this._def.type}_parse(e){const{ctx:s}=this._processInputParams(e);if(s.parsedType!==g.promise&&s.common.async===!1)return m(s,{code:f.invalid_type,expected:g.promise,received:s.parsedType}),b;const r=s.parsedType===g.promise?s.data:Promise.resolve(s.data);return U(r.then(a=>this._def.type.parseAsync(a,{path:s.path,errorMap:s.common.contextualErrorMap})))}}ze.create=(t,e)=>new ze({type:t,typeName:_.ZodPromise,...S(e)});class _e extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:s,ctx:r}=this._processInputParams(e),a=this._def.effect||null,n={addIssue:i=>{m(r,i),i.fatal?s.abort():s.dirty()},get path(){return r.path}};if(n.addIssue=n.addIssue.bind(n),a.type==="preprocess"){const i=a.transform(r.data,n);if(r.common.async)return Promise.resolve(i).then(async l=>{if(s.value==="aborted")return b;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?b:c.status==="dirty"||s.value==="dirty"?ke(c.value):c});{if(s.value==="aborted")return b;const l=this._def.schema._parseSync({data:i,path:r.path,parent:r});return l.status==="aborted"?b:l.status==="dirty"||s.value==="dirty"?ke(l.value):l}}if(a.type==="refinement"){const i=l=>{const c=a.refinement(l,n);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?b:(l.status==="dirty"&&s.dirty(),i(l.value),{status:s.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?b:(l.status==="dirty"&&s.dirty(),i(l.value).then(()=>({status:s.value,value:l.value}))))}if(a.type==="transform")if(r.common.async===!1){const i=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ye(i))return b;const l=a.transform(i.value,n);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(i=>ye(i)?Promise.resolve(a.transform(i.value,n)).then(l=>({status:s.value,value:l})):b);T.assertNever(a)}}_e.create=(t,e,s)=>new _e({schema:t,typeName:_.ZodEffects,effect:e,...S(s)});_e.createWithPreprocess=(t,e,s)=>new _e({schema:e,effect:{type:"preprocess",transform:t},typeName:_.ZodEffects,...S(s)});class ne extends j{_parse(e){return this._getType(e)===g.undefined?U(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ne.create=(t,e)=>new ne({innerType:t,typeName:_.ZodOptional,...S(e)});class be extends j{_parse(e){return this._getType(e)===g.null?U(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}be.create=(t,e)=>new be({innerType:t,typeName:_.ZodNullable,...S(e)});class lt extends j{_parse(e){const{ctx:s}=this._processInputParams(e);let r=s.data;return s.parsedType===g.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:s.path,parent:s})}removeDefault(){return this._def.innerType}}lt.create=(t,e)=>new lt({innerType:t,typeName:_.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...S(e)});class ct extends j{_parse(e){const{ctx:s}=this._processInputParams(e),r={...s,common:{...s.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return De(a)?a.then(n=>({status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new X(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new X(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ct.create=(t,e)=>new ct({innerType:t,typeName:_.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...S(e)});class Vt extends j{_parse(e){if(this._getType(e)!==g.nan){const r=this._getOrReturnCtx(e);return m(r,{code:f.invalid_type,expected:g.nan,received:r.parsedType}),b}return{status:"valid",value:e.data}}}Vt.create=t=>new Vt({typeName:_.ZodNaN,...S(t)});class Ir extends j{_parse(e){const{ctx:s}=this._processInputParams(e),r=s.data;return this._def.type._parse({data:r,path:s.path,parent:s})}unwrap(){return this._def.type}}class pt extends j{_parse(e){const{status:s,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const n=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return n.status==="aborted"?b:n.status==="dirty"?(s.dirty(),ke(n.value)):this._def.out._parseAsync({data:n.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?b:a.status==="dirty"?(s.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,s){return new pt({in:e,out:s,typeName:_.ZodPipeline})}}class dt extends j{_parse(e){const s=this._def.innerType._parse(e),r=a=>(ye(a)&&(a.value=Object.freeze(a.value)),a);return De(s)?s.then(a=>r(a)):r(s)}unwrap(){return this._def.innerType}}dt.create=(t,e)=>new dt({innerType:t,typeName:_.ZodReadonly,...S(e)});var _;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_||(_={}));const N=te.create,x=ve.create,Pe=at.create,Ut=Re.create,Lr=nt.create,Be=it.create;ie.create;const D=Y.create,E=A.create;Ze.create;Me.create;ce.create;const qe=$e.create,F=xe.create;ze.create;ne.create;be.create;F(["paper","live"]);const Dr=F(["connected","degraded","offline"]),Zr=F(["crypto","equities","fx"]),Mr=F(["HMM","MeanRev","Breakout","Scalp","Momentum","Meme","Listing","VolScan"]),$r=F(["spot","futures","options"]);E({totalPnL:x(),totalPnLPercent:x(),sharpe:x(),drawdown:x(),activePositions:x(),dailyTradeCount:x()});E({id:N(),name:N(),type:Zr,status:Dr,latency:x().min(0)});E({id:N(),name:Mr,enabled:Pe(),capital:x().min(0),markets:D($r)});const zr=E({pnl:x(),pnlPercent:x(),sharpe:x(),var:x(),drawdown:x(),tradeCount:x().min(0),winRate:x().min(0).max(1),latency:x().min(0),topSymbols:D(E({symbol:N(),pnl:x()})),sparkline:D(x())});E({strategyId:N(),venueId:N(),metrics:zr,health:F(["optimal","warning","critical"])});const Vr=E({id:N(),timestamp:x(),symbol:N(),side:F(["buy","sell"]),quantity:x().positive(),price:x().positive(),pnl:x().optional(),strategyId:N(),venueId:N()}),Ur=E({id:N(),timestamp:x(),type:F(["info","warning","error"]),message:N(),strategyId:N().optional()}),Fr=E({symbol:N(),qty:x(),entry:x().positive(),mark:x().positive(),pnl:x()}),Br=E({kpis:E({totalPnl:x(),winRate:x().min(0).max(1),sharpe:x(),maxDrawdown:x().min(0).max(1),openPositions:x().min(0)}),equityByStrategy:D(qe(N(),Be())),pnlBySymbol:D(E({symbol:N(),pnl:x()})),returns:D(x())}),qr=E({venues:D(E({name:N(),status:F(["ok","warn","down"]),latencyMs:x().min(0),queue:x().min(0)}))}),Wr=E({id:N(),name:N(),kind:N(),status:F(["stopped","running","error"]),symbols:D(N()),paramsSchema:Lr(),params:qe(Be()).optional(),performance:E({pnl:x(),equitySeries:D(E({t:N(),equity:x()})).optional(),winRate:x().optional(),sharpe:x().optional(),drawdown:x().optional()}).optional()});E({metrics:E({totalReturn:x(),sharpe:x(),maxDrawdown:x(),winRate:x(),trades:x()}),equityCurve:D(E({t:N(),equity:x()})),pnlBySymbol:D(E({symbol:N(),pnl:x()})),returns:D(x()),trades:D(E({time:N(),symbol:N(),side:F(["buy","sell"]),qty:x(),price:x(),pnl:x().optional()})).optional()});E({strategyId:N(),params:qe(Be()).optional(),symbols:D(N()).optional(),startDate:N(),endDate:N(),initialCapital:x().positive().optional(),feeBps:x().min(0).optional(),slippageBps:x().min(0).optional()});E({params:qe(Be())});const Hr=E({from:Ut(),to:Ut()}).refine(t=>t.from<=t.to,{message:"Start date must be before or equal to end date",path:["from"]});E({dateRange:Hr.optional(),strategies:D(N()).optional(),symbols:D(N()).optional()});E({theme:F(["light","dark","system"]),autoRefresh:Pe(),refreshInterval:x().min(5).max(300),soundEnabled:Pe(),notificationsEnabled:Pe()});function fe(t,e,s="API response"){try{return t.parse(e)}catch(r){throw r instanceof X?(console.error(`${s} validation failed:`,r.errors),new Error(`${s} validation failed: ${r.errors.map(a=>a.message).join(", ")}`)):r}}function me(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(t)}function Ft(t){return`${(t*100).toFixed(2)}%`}const Ke=()=>{const t=new Date,e=new Date;return e.setDate(e.getDate()-7),{from:e,to:t}};function ta(){const[t,e]=p.useState([]),[s,r]=p.useState([]),[a,n]=p.useState([]),[i,l]=p.useState([]),[c,u]=p.useState(()=>Ke()),[h,w]=p.useState(()=>Ke()),v=p.useMemo(()=>{const d=new URLSearchParams;return h?.from&&d.set("from",h.from.toISOString()),h?.to&&d.set("to",h.to.toISOString()),s.forEach(R=>d.append("strategies[]",R)),i.forEach(R=>d.append("symbols[]",R)),d},[h,s,i]),C=he({queryKey:de.strategies.list(),queryFn:()=>ks().then(d=>fe(Wr.array(),d)),staleTime:300*1e3}),k=he({queryKey:de.dashboard.summary(Object.fromEntries(v.entries())),queryFn:()=>Cs(v).then(d=>fe(Br,d)),staleTime:30*1e3}),I=he({queryKey:de.dashboard.positions(),queryFn:()=>js().then(d=>fe(Fr.array(),d)),staleTime:10*1e3}),H=he({queryKey:de.dashboard.trades(),queryFn:()=>Rs().then(d=>fe(Vr.array(),d)),staleTime:10*1e3}),Z=he({queryKey:de.dashboard.alerts(),queryFn:()=>Ts().then(d=>fe(Ur.array(),d)),staleTime:10*1e3}),z=he({queryKey:de.dashboard.health(),queryFn:()=>Ns().then(d=>fe(qr,d)),staleTime:10*1e3}),Q=p.useMemo(()=>{const d=new Set;return C.data?.forEach(R=>R.symbols.forEach(re=>d.add(re))),k.data?.pnlBySymbol.forEach(R=>d.add(R.symbol)),Array.from(d).sort()},[C.data,k.data]),G=p.useMemo(()=>{if(!k.data?.equityByStrategy?.length)return[];const d=k.data.equityByStrategy[0];return Object.keys(d).filter(R=>R!=="t").map(R=>({key:R,label:R}))},[k.data]),ee=()=>{w(c),r(t),l(a)},se=()=>{const d=Ke();u(d),w(d),e([]),r([]),n([]),l([])},L=d=>{e(R=>R.includes(d)?R.filter(re=>re!==d):[...R,d])},P=d=>{n(R=>R.includes(d)?R.filter(re=>re!==d):[...R,d])},O=()=>{C.refetch(),k.refetch(),I.refetch(),H.refetch(),Z.refetch(),z.refetch()};return o.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 p-6",children:[o.jsxs($,{className:"p-4",children:[o.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{className:"text-xs",children:"Date Range"}),o.jsxs(We,{children:[o.jsx(He,{asChild:!0,children:o.jsxs(ue,{variant:"outline",size:"sm",className:"flex w-48 items-center justify-start gap-2",children:[o.jsx(xs,{className:"h-4 w-4"}),c?.from&&c?.to?`${c.from.toLocaleDateString()}  ${c.to.toLocaleDateString()}`:"Select range"]})}),o.jsx(Qe,{align:"start",className:"p-0",children:o.jsx(_s,{mode:"range",selected:c,onSelect:u,numberOfMonths:2,initialFocus:!0})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{className:"text-xs",children:"Strategies"}),o.jsxs(We,{children:[o.jsx(He,{asChild:!0,children:o.jsxs(ue,{variant:"outline",size:"sm",className:"flex w-56 items-center justify-start gap-2",children:[o.jsx(xt,{className:"h-4 w-4"}),t.length>0?`${t.length} selected`:"All strategies"]})}),o.jsx(Qe,{className:"w-64 p-0",align:"start",children:o.jsx("div",{className:"p-3",children:o.jsx(Xe,{className:"max-h-64",children:o.jsxs("div",{className:"space-y-2",children:[C.data?.map(d=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(_t,{checked:t.includes(d.id),onCheckedChange:()=>L(d.id)}),o.jsx("span",{children:d.name})]},d.id)),C.data?.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"No strategies available"})]})})})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ye,{className:"text-xs",children:"Symbols"}),o.jsxs(We,{children:[o.jsx(He,{asChild:!0,children:o.jsxs(ue,{variant:"outline",size:"sm",className:"flex w-56 items-center justify-start gap-2",children:[o.jsx(xt,{className:"h-4 w-4"}),a.length>0?`${a.length} selected`:"All symbols"]})}),o.jsx(Qe,{className:"w-64 p-0",align:"start",children:o.jsx("div",{className:"p-3",children:o.jsx(Xe,{className:"max-h-64",children:o.jsxs("div",{className:"space-y-2",children:[Q.map(d=>o.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[o.jsx(_t,{checked:a.includes(d),onCheckedChange:()=>P(d)}),o.jsx("span",{children:d})]},d)),Q.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"No symbols available"})]})})})})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ue,{size:"sm",onClick:ee,disabled:C.isLoading||k.isLoading,children:"Apply Filters"}),o.jsx(ue,{size:"sm",variant:"ghost",onClick:se,disabled:C.isLoading||k.isLoading,children:"Reset"}),o.jsx(ue,{size:"icon",variant:"outline",onClick:O,disabled:C.isLoading||k.isLoading,children:o.jsx(Ps,{className:`h-4 w-4 ${C.isLoading||k.isLoading?"animate-spin":""}`})})]})]}),(t.length>0||a.length>0)&&o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[t.map(d=>{const R=C.data?.find(re=>re.id===d);return o.jsx(Ae,{variant:"outline",children:R?.name??d},d)}),a.map(d=>o.jsx(Ae,{variant:"secondary",children:d},d))]})]}),o.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[o.jsxs($,{className:"p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Total PnL"}),o.jsx("div",{className:"text-lg font-semibold",children:k.data?me(k.data.kpis.totalPnl):o.jsx(Se,{className:"h-6 w-32"})})]}),o.jsxs($,{className:"p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Win Rate"}),o.jsx("div",{className:"text-lg font-semibold",children:k.data?Ft(k.data.kpis.winRate):o.jsx(Se,{className:"h-6 w-24"})})]}),o.jsxs($,{className:"p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Sharpe"}),o.jsx("div",{className:"text-lg font-semibold",children:k.data?k.data.kpis.sharpe.toFixed(2):o.jsx(Se,{className:"h-6 w-16"})})]}),o.jsxs($,{className:"p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Max Drawdown"}),o.jsx("div",{className:"text-lg font-semibold",children:k.data?Ft(k.data.kpis.maxDrawdown):o.jsx(Se,{className:"h-6 w-24"})})]}),o.jsxs($,{className:"p-4",children:[o.jsx("div",{className:"text-xs text-muted-foreground",children:"Open Positions"}),o.jsx("div",{className:"text-lg font-semibold",children:k.data?k.data.kpis.openPositions:o.jsx(Se,{className:"h-6 w-12"})})]})]}),o.jsxs($,{className:"space-y-4 p-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h3",{className:"font-medium",children:"Equity Curves"})}),o.jsx(bs,{data:k.data?.equityByStrategy??[],series:G})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs($,{className:"space-y-4 p-4",children:[o.jsx("h3",{className:"font-medium",children:"PnL by Symbol"}),o.jsx(ws,{data:k.data?.pnlBySymbol??[]})]}),o.jsxs($,{className:"space-y-4 p-4",children:[o.jsx("h3",{className:"font-medium",children:"Distribution of Returns"}),o.jsx(Ss,{returns:k.data?.returns??[]})]})]}),o.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 xl:grid-cols-4",children:[o.jsxs($,{className:"p-4",children:[o.jsx("h3",{className:"mb-3 font-medium",children:"Open Positions"}),o.jsxs(bt,{children:[o.jsx(wt,{children:o.jsxs(Oe,{children:[o.jsx(B,{children:"Symbol"}),o.jsx(B,{children:"Qty"}),o.jsx(B,{children:"Entry"}),o.jsx(B,{children:"Mark"}),o.jsx(B,{className:"text-right",children:"PnL"})]})}),o.jsx(St,{children:I.data?.map(d=>o.jsxs(Oe,{children:[o.jsx(q,{children:d.symbol}),o.jsx(q,{children:d.qty}),o.jsx(q,{children:me(d.entry)}),o.jsx(q,{children:me(d.mark)}),o.jsx(q,{className:`text-right ${d.pnl>=0?"text-emerald-400":"text-red-400"}`,children:me(d.pnl)})]},d.symbol))}),o.jsx(kt,{children:I.data?.length===0?"No open positions":void 0})]})]}),o.jsxs($,{className:"p-4",children:[o.jsx("h3",{className:"mb-3 font-medium",children:"Recent Trades"}),o.jsxs(bt,{children:[o.jsx(wt,{children:o.jsxs(Oe,{children:[o.jsx(B,{children:"Time"}),o.jsx(B,{children:"Symbol"}),o.jsx(B,{children:"Side"}),o.jsx(B,{children:"Qty"}),o.jsx(B,{children:"Price"}),o.jsx(B,{className:"text-right",children:"PnL"})]})}),o.jsx(St,{children:H.data?.map(d=>o.jsxs(Oe,{children:[o.jsx(q,{children:new Date(d.timestamp).toLocaleTimeString()}),o.jsx(q,{children:d.symbol}),o.jsx(q,{className:d.side==="buy"?"text-emerald-400":"text-red-400",children:d.side.toUpperCase()}),o.jsx(q,{children:d.quantity}),o.jsx(q,{children:me(d.price)}),o.jsx(q,{className:"text-right",children:d.pnl!==void 0?me(d.pnl):""})]},`${d.timestamp}-${d.symbol}-${d.side}`))}),o.jsx(kt,{children:H.data?.length===0?"No recent trades":void 0})]})]}),o.jsxs($,{className:"p-4",children:[o.jsx("h3",{className:"mb-3 font-medium",children:"Alerts"}),o.jsx(Xe,{className:"h-64 pr-2",children:o.jsxs("div",{className:"space-y-3",children:[Z.data?.map(d=>o.jsxs("div",{className:"rounded-md border border-border p-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[o.jsx("span",{children:new Date(d.timestamp).toLocaleTimeString()}),o.jsx(Ae,{variant:d.type==="error"?"destructive":d.type==="warning"?"secondary":"outline",children:d.type.toUpperCase()})]}),o.jsx(Os,{className:"my-2"}),o.jsx("p",{className:"text-sm leading-tight text-muted-foreground",children:d.message})]},`${d.timestamp}-${d.message}`)),Z.data?.length===0&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"No alerts"})]})})]}),o.jsxs($,{className:"p-4",children:[o.jsx("h3",{className:"mb-3 font-medium",children:"Venue Health"}),o.jsxs("div",{className:"space-y-3",children:[z.data?.venues.map(d=>o.jsxs("div",{className:"rounded-md border border-border p-3 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-medium",children:d.name}),o.jsx(Ae,{variant:d.status==="ok"?"outline":d.status==="warn"?"secondary":"destructive",children:d.status.toUpperCase()})]}),o.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[o.jsxs("span",{children:["Latency: ",d.latencyMs.toFixed(1)," ms"]}),o.jsxs("span",{children:["Queue: ",d.queue]})]})]},d.name)),!z.data?.venues?.length&&o.jsx("p",{className:"text-xs text-muted-foreground",children:"No venue data"})]})]})]})]})}export{ta as DashboardTab};
