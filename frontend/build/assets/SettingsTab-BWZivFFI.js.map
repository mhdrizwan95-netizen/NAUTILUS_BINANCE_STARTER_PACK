{"version":3,"file":"SettingsTab-BWZivFFI.js","sources":["../../node_modules/lucide-react/dist/esm/icons/copy.js","../../src/components/ui/textarea.tsx","../../src/components/tabs/SettingsTab.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.487.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode);\n\nexport { __iconNode, Copy as default };\n//# sourceMappingURL=copy.js.map\n","import * as React from \"react\";\n\nimport { cn } from \"./utils\";\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Textarea };\n","import { useEffect, useMemo, useState } from 'react';\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport { toast } from 'sonner';\nimport { Copy, Download, RefreshCw } from 'lucide-react';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '../ui/card';\nimport { Badge } from '../ui/badge';\nimport { Skeleton } from '../ui/skeleton';\nimport { Button } from '../ui/button';\nimport { Input } from '../ui/input';\nimport { Label } from '../ui/label';\nimport { Textarea } from '../ui/textarea';\nimport { queryKeys } from '../../lib/queryClient';\nimport { getConfigEffective, type ControlRequestOptions, updateConfig } from '../../lib/api';\nimport {\n  configEffectiveSchema,\n  validateApiResponse,\n} from '../../lib/validation';\nimport { useAppStore } from '../../lib/store';\nimport { generateIdempotencyKey } from '../../lib/idempotency';\n\nconst CONFIG_FLAGS = [\n  {\n    key: 'DRY_RUN' as const,\n    label: 'Dry Run',\n    description: 'Route execution in simulation mode without placing real orders.',\n  },\n  {\n    key: 'SYMBOL_SCANNER_ENABLED' as const,\n    label: 'Symbol Scanner',\n    description: 'Continuously refresh the universe scanner feed.',\n  },\n  {\n    key: 'SOFT_BREACH_ENABLED' as const,\n    label: 'Soft Breach Guard',\n    description: 'Alerts and guard-rail for risk rails before hard stops trigger.',\n  },\n  {\n    key: 'SOFT_BREACH_BREAKEVEN_OK' as const,\n    label: 'Breakeven Allowed',\n    description: 'Permit breakeven exits when a soft breach fires.',\n  },\n  {\n    key: 'SOFT_BREACH_CANCEL_ENTRIES' as const,\n    label: 'Cancel Entries',\n    description: 'Cancel outstanding entry orders when a soft breach triggers.',\n  },\n];\n\nexport function SettingsTab() {\n  const queryClient = useQueryClient();\n  const opsToken = useAppStore((state) => state.opsAuth.token);\n  const opsActor = useAppStore((state) => state.opsAuth.actor);\n  const setOpsToken = useAppStore((state) => state.setOpsToken);\n  const setOpsActor = useAppStore((state) => state.setOpsActor);\n  const setOpsApprover = useAppStore((state) => state.setOpsApprover);\n  const opsApprover = useAppStore((state) => state.opsAuth.approver);\n  const [opsTokenInput, setOpsTokenInput] = useState(opsToken);\n  const [opsActorInput, setOpsActorInput] = useState(opsActor);\n  const [opsApproverInput, setOpsApproverInput] = useState(opsApprover);\n  const [overrideDraft, setOverrideDraft] = useState('{}');\n  const [overrideTouched, setOverrideTouched] = useState(false);\n\n  const configQuery = useQuery({\n    queryKey: queryKeys.settings.config(),\n    queryFn: () =>\n      getConfigEffective().then((data) =>\n        validateApiResponse(configEffectiveSchema, data, 'Runtime config')\n      ),\n    refetchInterval: 60_000,\n  });\n\n  useEffect(() => {\n    if (!configQuery.data || overrideTouched) return;\n    setOverrideDraft(JSON.stringify(configQuery.data.overrides ?? {}, null, 2));\n  }, [configQuery.data, overrideTouched]);\n\n  useEffect(() => {\n    setOpsTokenInput(opsToken);\n  }, [opsToken]);\n\n  useEffect(() => {\n    setOpsActorInput(opsActor);\n  }, [opsActor]);\n\n  useEffect(() => {\n    setOpsApproverInput(opsApprover);\n  }, [opsApprover]);\n\n  const tightenPct = useMemo(() => {\n    const raw =\n      configQuery.data?.effective?.SOFT_BREACH_TIGHTEN_SL_PCT ??\n      configQuery.data?.overrides?.SOFT_BREACH_TIGHTEN_SL_PCT;\n    return typeof raw === 'number' ? raw : null;\n  }, [configQuery.data]);\n\n  const updateMutation = useMutation({\n    mutationFn: async ({\n      patch,\n      options,\n    }: {\n      patch: Record<string, unknown>;\n      options: ControlRequestOptions;\n    }) => {\n      const response = await updateConfig(patch, options);\n      return validateApiResponse(\n        configEffectiveSchema,\n        response,\n        'Updated runtime config'\n      );\n    },\n    onSuccess: (data) => {\n      toast.success('Runtime configuration updated');\n      setOverrideTouched(false);\n      setOverrideDraft(JSON.stringify(data.overrides ?? {}, null, 2));\n      queryClient.setQueryData(queryKeys.settings.config(), data);\n    },\n    onError: (error: unknown) => {\n      toast.error('Failed to update configuration', {\n        description:\n          error instanceof Error ? error.message : 'Unknown error occurred',\n      });\n    },\n  });\n\n  const overridesInvalid = useMemo(() => {\n    try {\n      const parsed = JSON.parse(overrideDraft || '{}');\n      return !(parsed && typeof parsed === 'object' && !Array.isArray(parsed));\n    } catch {\n      return true;\n    }\n  }, [overrideDraft]);\n\n  const handleSubmit = () => {\n    if (!opsToken.trim()) {\n      toast.error('Provide an OPS API token to update configuration');\n      return;\n    }\n    if (!opsApprover.trim()) {\n      toast.error('Provide an approver token (two-man rule) to update configuration');\n      return;\n    }\n    let parsed: unknown;\n    try {\n      parsed = JSON.parse(overrideDraft || '{}');\n    } catch (error) {\n      toast.error('Overrides JSON is invalid', {\n        description: error instanceof Error ? error.message : undefined,\n      });\n      return;\n    }\n    if (!parsed || typeof parsed !== 'object' || Array.isArray(parsed)) {\n      toast.error('Overrides must be a JSON object');\n      return;\n    }\n    updateMutation.mutate({\n      patch: parsed as Record<string, unknown>,\n      options: {\n        token: opsToken.trim(),\n        actor: opsActorInput.trim() || undefined,\n        approverToken: opsApproverInput.trim() || undefined,\n        idempotencyKey: generateIdempotencyKey('config'),\n      },\n    });\n  };\n\n  const handleCopy = async (payload: unknown, label: string) => {\n    try {\n      await navigator.clipboard.writeText(JSON.stringify(payload, null, 2));\n      toast.success(`${label} copied to clipboard`);\n    } catch (error) {\n      toast.error(`Unable to copy ${label}`, {\n        description: error instanceof Error ? error.message : undefined,\n      });\n    }\n  };\n\n  const handleDownload = (payload: unknown, filename: string) => {\n    try {\n      const blob = new Blob([JSON.stringify(payload, null, 2)], {\n        type: 'application/json',\n      });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = filename;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      toast.error('Download failed', {\n        description: error instanceof Error ? error.message : undefined,\n      });\n    }\n  };\n\n  return (\n    <div className=\"space-y-6 p-6\">\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n          <div>\n            <CardTitle>OPS API Token</CardTitle>\n            <CardDescription>\n              Provide the bearer token required by the Ops API. The value stays in memory only.\n            </CardDescription>\n          </div>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => configQuery.refetch()}\n            disabled={configQuery.isRefetching}\n          >\n            <RefreshCw className=\"mr-2 h-4 w-4\" />\n            Refresh config\n          </Button>\n        </CardHeader>\n        <CardContent className=\"space-y-3\">\n          <Label htmlFor=\"ops-token\">X-Ops-Token header</Label>\n          <Input\n            id=\"ops-token\"\n            type=\"password\"\n            value={opsTokenInput}\n            onChange={(event) => {\n              setOpsTokenInput(event.target.value);\n              setOpsToken(event.target.value);\n            }}\n            placeholder=\"Paste OPS_API_TOKEN value\"\n            autoComplete=\"off\"\n          />\n          <p className=\"text-xs text-zinc-500\">\n            When running locally, export <code>OPS_API_TOKEN</code> or <code>OPS_API_TOKEN_FILE</code> and reuse that value here for authenticated updates.\n          </p>\n          <Label htmlFor=\"ops-actor\" className=\"pt-2\">Operator (audit log)</Label>\n          <Input\n            id=\"ops-actor\"\n            type=\"text\"\n            value={opsActorInput}\n            onChange={(event) => {\n              setOpsActorInput(event.target.value);\n              setOpsActor(event.target.value);\n            }}\n            placeholder=\"Enter your call-sign or initials\"\n            autoComplete=\"off\"\n          />\n          <Label htmlFor=\"ops-approver\" className=\"pt-2\">Approver token</Label>\n          <Input\n            id=\"ops-approver\"\n            type=\"password\"\n            value={opsApproverInput}\n            onChange={(event) => {\n              setOpsApproverInput(event.target.value);\n              setOpsApprover(event.target.value);\n            }}\n            placeholder=\"Second approver token (two-man rule)\"\n            autoComplete=\"off\"\n          />\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n          <div>\n            <CardTitle>Protection & Automation Flags</CardTitle>\n            <CardDescription>\n              Values reflect <code>config/runtime.yaml</code> merged with overrides.\n            </CardDescription>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() =>\n                handleCopy(configQuery.data?.overrides ?? {}, 'Overrides JSON')\n              }\n              disabled={configQuery.isLoading}\n            >\n              <Copy className=\"mr-2 h-4 w-4\" />\n              Copy overrides\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() =>\n                handleDownload(\n                  configQuery.data?.effective ?? {},\n                  'runtime-config.json'\n                )\n              }\n              disabled={configQuery.isLoading}\n            >\n              <Download className=\"mr-2 h-4 w-4\" />\n              Download config\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent>\n          {configQuery.isLoading ? (\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n              {Array.from({ length: 5 }).map((_, idx) => (\n                <Skeleton key={idx} className=\"h-24 rounded-xl\" />\n              ))}\n            </div>\n          ) : (\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n              {CONFIG_FLAGS.map((flag) => {\n                const value =\n                  configQuery.data?.effective?.[flag.key] ??\n                  configQuery.data?.overrides?.[flag.key];\n                const enabled = value === true;\n                return (\n                  <div\n                    key={flag.key}\n                    className=\"rounded-xl border border-zinc-800/60 bg-zinc-900/40 p-4\"\n                  >\n                    <div className=\"flex items-center justify-between pb-2\">\n                      <p className=\"text-sm font-medium text-zinc-200\">\n                        {flag.label}\n                      </p>\n                      <Badge\n                        variant={enabled ? 'secondary' : 'outline'}\n                        className={enabled ? 'bg-emerald-500/10 text-emerald-300' : ''}\n                      >\n                        {enabled ? 'ENABLED' : 'DISABLED'}\n                      </Badge>\n                    </div>\n                    <p className=\"text-xs text-zinc-500\">{flag.description}</p>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n          <div className=\"mt-6 rounded-xl border border-zinc-800/60 bg-zinc-900/40 p-4\">\n            <p className=\"text-sm font-medium text-zinc-200\">\n              Soft Breach tighten stop-loss\n            </p>\n            <p className=\"text-xs text-zinc-500\">\n              Percentage applied to tighten the stop-loss when a soft breach occurs.\n            </p>\n            <div className=\"mt-3 text-lg font-semibold text-zinc-100\">\n              {tightenPct !== null ? `${(tightenPct * 100).toFixed(1)}%` : '—'}\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between gap-4\">\n          <div>\n            <CardTitle>Runtime Overrides</CardTitle>\n            <CardDescription>\n              Edit the JSON payload sent to <code>PUT /api/config</code>.\n            </CardDescription>\n          </div>\n          <Button\n            variant=\"secondary\"\n            size=\"sm\"\n            onClick={handleSubmit}\n            disabled={\n              updateMutation.isPending || overridesInvalid || !overrideTouched\n            }\n          >\n            {updateMutation.isPending ? 'Saving…' : 'Save overrides'}\n          </Button>\n        </CardHeader>\n        <CardContent>\n          {configQuery.isLoading ? (\n            <Skeleton className=\"h-48 w-full\" />\n          ) : (\n            <div className=\"rounded-lg border border-zinc-800/60 bg-zinc-950/40 p-4 space-y-3\">\n              <Textarea\n                value={overrideDraft}\n                onChange={(event) => {\n                  setOverrideDraft(event.target.value);\n                  setOverrideTouched(true);\n                }}\n                className=\"h-64 font-mono text-xs\"\n              />\n              <p className=\"text-xs text-zinc-500\">\n                Example: <code>{'{\"DRY_RUN\": false, \"SOFT_BREACH_ENABLED\": true}'}</code>\n              </p>\n              {overridesInvalid && (\n                <p className=\"text-xs text-amber-400\">\n                  Overrides must be valid JSON representing an object.\n                </p>\n              )}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader>\n          <CardTitle>Effective Configuration</CardTitle>\n          <CardDescription>\n            Resulting payload served to clients (<code>config/runtime.yaml</code> merged with overrides).\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          {configQuery.isLoading ? (\n            <Skeleton className=\"h-64 w-full\" />\n          ) : (\n            <div className=\"rounded-lg border border-zinc-800/60 bg-zinc-950/40 p-4\">\n              <pre className=\"max-h-80 overflow-auto text-xs leading-6 text-zinc-300\">\n                {JSON.stringify(configQuery.data?.effective ?? {}, null, 2)}\n              </pre>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      <p className=\"text-xs text-zinc-500\">\n        Updates apply immediately and are persisted by the Ops service. Keep your token secure; the Command Center never stores it beyond this session.\n      </p>\n    </div>\n  );\n}\n"],"names":["__iconNode","Copy","createLucideIcon","Textarea","className","props","jsx","cn","CONFIG_FLAGS","SettingsTab","queryClient","useQueryClient","opsToken","useAppStore","state","opsActor","setOpsToken","setOpsActor","setOpsApprover","opsApprover","opsTokenInput","setOpsTokenInput","useState","opsActorInput","setOpsActorInput","opsApproverInput","setOpsApproverInput","overrideDraft","setOverrideDraft","overrideTouched","setOverrideTouched","configQuery","useQuery","queryKeys","getConfigEffective","data","validateApiResponse","configEffectiveSchema","useEffect","tightenPct","useMemo","raw","updateMutation","useMutation","patch","options","response","updateConfig","toast","error","overridesInvalid","parsed","handleSubmit","generateIdempotencyKey","handleCopy","payload","label","handleDownload","filename","blob","url","link","jsxs","Card","CardHeader","CardTitle","CardDescription","Button","RefreshCw","CardContent","Label","Input","event","Download","_","idx","Skeleton","flag","enabled","Badge"],"mappings":"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","x_google_ignoreList":[0]}