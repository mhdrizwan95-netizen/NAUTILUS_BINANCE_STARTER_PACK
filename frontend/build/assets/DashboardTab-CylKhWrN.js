import{c as Ae,r as a,u as B,a as Le,j as e,b as De,P as X,d as K,e as L,f as A,g as _e,h as pe,i as ke,k as He,t as Z,l as ze,m as z,C as v,B as F,S as U,n as Fe,o as Me,p as We,q as M,s as Oe,v as qe,w as Be,x as Ie,y as Ue}from"./index-Rk7jxlAW.js";import{P as ee,a as te,C as Xe,b as re,c as Ye,F as ce,d as ie,E as $e,e as Ve,R as Qe}from"./ReturnsHistogram-DyPhuCt1.js";import{B as Y}from"./badge-DbHrsCMU.js";import{L as se}from"./label-Duf-LRMe.js";import{S as Ke}from"./separator-Catm7xgr.js";import{c as Ge}from"./LineChart-CsN3wN5o.js";import{T as de,a as he,b as $,c as w,d as me,e as N,f as ue}from"./table--BgB20oK.js";import{v as W,s as Je,d as Ze,p as et,t as tt,a as rt,h as st}from"./validation-COF01_rP.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],nt=Ae("refresh-ccw",ot);function at(t,n){return a.useReducer((s,c)=>n[s][c]??s,t)}var ne="ScrollArea",[be]=De(ne),[lt,j]=be(ne),ge=a.forwardRef((t,n)=>{const{__scopeScrollArea:s,type:c="hover",dir:o,scrollHideDelay:l=600,...i}=t,[d,h]=a.useState(null),[f,x]=a.useState(null),[b,m]=a.useState(null),[u,g]=a.useState(null),[P,R]=a.useState(null),[y,T]=a.useState(0),[I,D]=a.useState(0),[_,E]=a.useState(!1),[k,H]=a.useState(!1),r=B(n,S=>h(S)),p=Le(o);return e.jsx(lt,{scope:s,type:c,dir:p,scrollHideDelay:l,scrollArea:d,viewport:f,onViewportChange:x,content:b,onContentChange:m,scrollbarX:u,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:E,scrollbarY:P,onScrollbarYChange:R,scrollbarYEnabled:k,onScrollbarYEnabledChange:H,onCornerWidthChange:T,onCornerHeightChange:D,children:e.jsx(X.div,{dir:p,...i,ref:r,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":I+"px",...t.style}})})});ge.displayName=ne;var Se="ScrollAreaViewport",ve=a.forwardRef((t,n)=>{const{__scopeScrollArea:s,children:c,nonce:o,...l}=t,i=j(Se,s),d=a.useRef(null),h=B(n,d,i.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),e.jsx(X.div,{"data-radix-scroll-area-viewport":"",...l,ref:h,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:c})})]})});ve.displayName=Se;var C="ScrollAreaScrollbar",je=a.forwardRef((t,n)=>{const{forceMount:s,...c}=t,o=j(C,t.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:i}=o,d=t.orientation==="horizontal";return a.useEffect(()=>(d?l(!0):i(!0),()=>{d?l(!1):i(!1)}),[d,l,i]),o.type==="hover"?e.jsx(ct,{...c,ref:n,forceMount:s}):o.type==="scroll"?e.jsx(it,{...c,ref:n,forceMount:s}):o.type==="auto"?e.jsx(ye,{...c,ref:n,forceMount:s}):o.type==="always"?e.jsx(ae,{...c,ref:n}):null});je.displayName=C;var ct=a.forwardRef((t,n)=>{const{forceMount:s,...c}=t,o=j(C,t.__scopeScrollArea),[l,i]=a.useState(!1);return a.useEffect(()=>{const d=o.scrollArea;let h=0;if(d){const f=()=>{window.clearTimeout(h),i(!0)},x=()=>{h=window.setTimeout(()=>i(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",f),d.addEventListener("pointerleave",x),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",f),d.removeEventListener("pointerleave",x)}}},[o.scrollArea,o.scrollHideDelay]),e.jsx(K,{present:s||l,children:e.jsx(ye,{"data-state":l?"visible":"hidden",...c,ref:n})})}),it=a.forwardRef((t,n)=>{const{forceMount:s,...c}=t,o=j(C,t.__scopeScrollArea),l=t.orientation==="horizontal",i=J(()=>h("SCROLL_END"),100),[d,h]=at("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return a.useEffect(()=>{if(d==="idle"){const f=window.setTimeout(()=>h("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[d,o.scrollHideDelay,h]),a.useEffect(()=>{const f=o.viewport,x=l?"scrollLeft":"scrollTop";if(f){let b=f[x];const m=()=>{const u=f[x];b!==u&&(h("SCROLL"),i()),b=u};return f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,l,h,i]),e.jsx(K,{present:s||d!=="hidden",children:e.jsx(ae,{"data-state":d==="hidden"?"hidden":"visible",...c,ref:n,onPointerEnter:L(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:L(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),ye=a.forwardRef((t,n)=>{const s=j(C,t.__scopeScrollArea),{forceMount:c,...o}=t,[l,i]=a.useState(!1),d=t.orientation==="horizontal",h=J(()=>{if(s.viewport){const f=s.viewport.offsetWidth<s.viewport.scrollWidth,x=s.viewport.offsetHeight<s.viewport.scrollHeight;i(d?f:x)}},10);return q(s.viewport,h),q(s.content,h),e.jsx(K,{present:c||l,children:e.jsx(ae,{"data-state":l?"visible":"hidden",...o,ref:n})})}),ae=a.forwardRef((t,n)=>{const{orientation:s="vertical",...c}=t,o=j(C,t.__scopeScrollArea),l=a.useRef(null),i=a.useRef(0),[d,h]=a.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=Re(d.viewport,d.content),x={...c,sizes:d,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:m=>l.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function b(m,u){return ft(m,i.current,d,u)}return s==="horizontal"?e.jsx(dt,{...x,ref:n,onThumbPositionChange:()=>{if(o.viewport&&l.current){const m=o.viewport.scrollLeft,u=xe(m,d,o.dir);l.current.style.transform=`translate3d(${u}px, 0, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollLeft=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollLeft=b(m,o.dir))}}):s==="vertical"?e.jsx(ht,{...x,ref:n,onThumbPositionChange:()=>{if(o.viewport&&l.current){const m=o.viewport.scrollTop,u=xe(m,d);l.current.style.transform=`translate3d(0, ${u}px, 0)`}},onWheelScroll:m=>{o.viewport&&(o.viewport.scrollTop=m)},onDragScroll:m=>{o.viewport&&(o.viewport.scrollTop=b(m))}}):null}),dt=a.forwardRef((t,n)=>{const{sizes:s,onSizesChange:c,...o}=t,l=j(C,t.__scopeScrollArea),[i,d]=a.useState(),h=a.useRef(null),f=B(n,h,l.onScrollbarXChange);return a.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),e.jsx(Ne,{"data-orientation":"horizontal",...o,ref:f,sizes:s,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":G(s)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.x),onDragScroll:x=>t.onDragScroll(x.x),onWheelScroll:(x,b)=>{if(l.viewport){const m=l.viewport.scrollLeft+x.deltaX;t.onWheelScroll(m),Ee(m,b)&&x.preventDefault()}},onResize:()=>{h.current&&l.viewport&&i&&c({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:Q(i.paddingLeft),paddingEnd:Q(i.paddingRight)}})}})}),ht=a.forwardRef((t,n)=>{const{sizes:s,onSizesChange:c,...o}=t,l=j(C,t.__scopeScrollArea),[i,d]=a.useState(),h=a.useRef(null),f=B(n,h,l.onScrollbarYChange);return a.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),e.jsx(Ne,{"data-orientation":"vertical",...o,ref:f,sizes:s,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":G(s)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.y),onDragScroll:x=>t.onDragScroll(x.y),onWheelScroll:(x,b)=>{if(l.viewport){const m=l.viewport.scrollTop+x.deltaY;t.onWheelScroll(m),Ee(m,b)&&x.preventDefault()}},onResize:()=>{h.current&&l.viewport&&i&&c({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:Q(i.paddingTop),paddingEnd:Q(i.paddingBottom)}})}})}),[mt,we]=be(C),Ne=a.forwardRef((t,n)=>{const{__scopeScrollArea:s,sizes:c,hasThumb:o,onThumbChange:l,onThumbPointerUp:i,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:x,onResize:b,...m}=t,u=j(C,s),[g,P]=a.useState(null),R=B(n,r=>P(r)),y=a.useRef(null),T=a.useRef(""),I=u.viewport,D=c.content-c.viewport,_=A(x),E=A(h),k=J(b,10);function H(r){if(y.current){const p=r.clientX-y.current.left,S=r.clientY-y.current.top;f({x:p,y:S})}}return a.useEffect(()=>{const r=p=>{const S=p.target;g?.contains(S)&&_(p,D)};return document.addEventListener("wheel",r,{passive:!1}),()=>document.removeEventListener("wheel",r,{passive:!1})},[I,g,D,_]),a.useEffect(E,[c,E]),q(g,k),q(u.content,k),e.jsx(mt,{scope:s,scrollbar:g,hasThumb:o,onThumbChange:A(l),onThumbPointerUp:A(i),onThumbPositionChange:E,onThumbPointerDown:A(d),children:e.jsx(X.div,{...m,ref:R,style:{position:"absolute",...m.style},onPointerDown:L(t.onPointerDown,r=>{r.button===0&&(r.target.setPointerCapture(r.pointerId),y.current=g.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",u.viewport&&(u.viewport.style.scrollBehavior="auto"),H(r))}),onPointerMove:L(t.onPointerMove,H),onPointerUp:L(t.onPointerUp,r=>{const p=r.target;p.hasPointerCapture(r.pointerId)&&p.releasePointerCapture(r.pointerId),document.body.style.webkitUserSelect=T.current,u.viewport&&(u.viewport.style.scrollBehavior=""),y.current=null})})})}),V="ScrollAreaThumb",Ce=a.forwardRef((t,n)=>{const{forceMount:s,...c}=t,o=we(V,t.__scopeScrollArea);return e.jsx(K,{present:s||o.hasThumb,children:e.jsx(ut,{ref:n,...c})})}),ut=a.forwardRef((t,n)=>{const{__scopeScrollArea:s,style:c,...o}=t,l=j(V,s),i=we(V,s),{onThumbPositionChange:d}=i,h=B(n,b=>i.onThumbChange(b)),f=a.useRef(void 0),x=J(()=>{f.current&&(f.current(),f.current=void 0)},100);return a.useEffect(()=>{const b=l.viewport;if(b){const m=()=>{if(x(),!f.current){const u=pt(b,d);f.current=u,d()}};return d(),b.addEventListener("scroll",m),()=>b.removeEventListener("scroll",m)}},[l.viewport,x,d]),e.jsx(X.div,{"data-state":i.hasThumb?"visible":"hidden",...o,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...c},onPointerDownCapture:L(t.onPointerDownCapture,b=>{const u=b.target.getBoundingClientRect(),g=b.clientX-u.left,P=b.clientY-u.top;i.onThumbPointerDown({x:g,y:P})}),onPointerUp:L(t.onPointerUp,i.onThumbPointerUp)})});Ce.displayName=V;var le="ScrollAreaCorner",Pe=a.forwardRef((t,n)=>{const s=j(le,t.__scopeScrollArea),c=!!(s.scrollbarX&&s.scrollbarY);return s.type!=="scroll"&&c?e.jsx(xt,{...t,ref:n}):null});Pe.displayName=le;var xt=a.forwardRef((t,n)=>{const{__scopeScrollArea:s,...c}=t,o=j(le,s),[l,i]=a.useState(0),[d,h]=a.useState(0),f=!!(l&&d);return q(o.scrollbarX,()=>{const x=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(x),h(x)}),q(o.scrollbarY,()=>{const x=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(x),i(x)}),f?e.jsx(X.div,{...c,ref:n,style:{width:l,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Q(t){return t?parseInt(t,10):0}function Re(t,n){const s=t/n;return isNaN(s)?0:s}function G(t){const n=Re(t.viewport,t.content),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,c=(t.scrollbar.size-s)*n;return Math.max(c,18)}function ft(t,n,s,c="ltr"){const o=G(s),l=o/2,i=n||l,d=o-i,h=s.scrollbar.paddingStart+i,f=s.scrollbar.size-s.scrollbar.paddingEnd-d,x=s.content-s.viewport,b=c==="ltr"?[0,x]:[x*-1,0];return Te([h,f],b)(t)}function xe(t,n,s="ltr"){const c=G(n),o=n.scrollbar.paddingStart+n.scrollbar.paddingEnd,l=n.scrollbar.size-o,i=n.content-n.viewport,d=l-c,h=s==="ltr"?[0,i]:[i*-1,0],f=Ge(t,h);return Te([0,i],[0,d])(f)}function Te(t,n){return s=>{if(t[0]===t[1]||n[0]===n[1])return n[0];const c=(n[1]-n[0])/(t[1]-t[0]);return n[0]+c*(s-t[0])}}function Ee(t,n){return t>0&&t<n}var pt=(t,n=()=>{})=>{let s={left:t.scrollLeft,top:t.scrollTop},c=0;return(function o(){const l={left:t.scrollLeft,top:t.scrollTop},i=s.left!==l.left,d=s.top!==l.top;(i||d)&&n(),s=l,c=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(c)};function J(t,n){const s=A(t),c=a.useRef(0);return a.useEffect(()=>()=>window.clearTimeout(c.current),[]),a.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(s,n)},[s,n])}function q(t,n){const s=A(n);_e(()=>{let c=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(c),c=window.requestAnimationFrame(s)});return o.observe(t),()=>{window.cancelAnimationFrame(c),o.unobserve(t)}}},[t,s])}var bt=ge,gt=ve,St=Pe;function oe({className:t,children:n,...s}){return e.jsxs(bt,{"data-slot":"scroll-area",className:pe("relative",t),...s,children:[e.jsx(gt,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:n}),e.jsx(vt,{}),e.jsx(St,{})]})}function vt({className:t,orientation:n="vertical",...s}){return e.jsx(je,{"data-slot":"scroll-area-scrollbar",orientation:n,className:pe("flex touch-none p-px transition-colors select-none",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...s,children:e.jsx(Ce,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}function O(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:2}).format(t)}function fe(t){return`${Math.round(t*100)}%`}function At(){const t=ke(),{setDashboardFilters:n}=He(),[s,c]=a.useState(()=>Z(t)),[o,l]=a.useState(t.strategies),[i,d]=a.useState(t.symbols);a.useEffect(()=>{c(Z(t)),l(t.strategies),d(t.symbols)},[t]);const h=a.useId(),f=a.useId(),x=a.useMemo(()=>ze(t),[t]),b=a.useMemo(()=>x.toString(),[x]),m=z({queryKey:M.strategies.list(),queryFn:()=>We().then(r=>W(Je.array(),r)),staleTime:300*1e3}),u=z({queryKey:M.dashboard.summary({params:b}),queryFn:()=>Oe(x).then(r=>W(Ze,r)),staleTime:30*1e3}),g=z({queryKey:M.dashboard.positions(),queryFn:()=>qe().then(r=>W(et.array(),r)),staleTime:10*1e3}),P=z({queryKey:M.dashboard.trades(),queryFn:()=>Be().then(r=>W(tt.array(),r)),staleTime:10*1e3}),R=z({queryKey:M.dashboard.alerts(),queryFn:()=>Ie().then(r=>W(rt.array(),r)),staleTime:10*1e3}),y=z({queryKey:M.dashboard.health(),queryFn:()=>Ue().then(r=>W(st,r)),staleTime:10*1e3}),T=a.useMemo(()=>{const r=new Set;return m.data?.forEach(p=>p.symbols.forEach(S=>r.add(S))),u.data?.pnlBySymbol.forEach(p=>r.add(p.symbol)),Array.from(r).sort()},[m.data,u.data]),I=a.useMemo(()=>{if(!u.data?.equityByStrategy?.length)return[];const r=u.data.equityByStrategy[0];return Object.keys(r).filter(p=>p!=="t").map(p=>({key:p,label:p}))},[u.data]),D=()=>{const r=Fe(s);n({from:r.from,to:r.to,strategies:o,symbols:i})},_=()=>{const r=Me();n(r),c(Z(r)),l([]),d([])},E=r=>{l(p=>p.includes(r)?p.filter(S=>S!==r):[...p,r])},k=r=>{d(p=>p.includes(r)?p.filter(S=>S!==r):[...p,r])},H=()=>{m.refetch(),u.refetch(),g.refetch(),P.refetch(),R.refetch(),y.refetch()};return e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 p-6",children:[e.jsxs(v,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{className:"text-xs",children:"Date Range"}),e.jsxs(ee,{children:[e.jsx(te,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",className:"flex w-48 items-center justify-start gap-2",children:[e.jsx(Xe,{className:"h-4 w-4"}),s?.from&&s?.to?`${s.from.toLocaleDateString()} – ${s.to.toLocaleDateString()}`:"Select range"]})}),e.jsx(re,{align:"start",className:"p-0",children:e.jsx(Ye,{mode:"range",selected:s,onSelect:c,numberOfMonths:2,initialFocus:!0})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{className:"text-xs",children:"Strategies"}),e.jsxs(ee,{children:[e.jsx(te,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",className:"flex w-56 items-center justify-start gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),o.length>0?`${o.length} selected`:"All strategies"]})}),e.jsx(re,{className:"w-64 p-0",align:"start",children:e.jsx("div",{className:"p-3",children:e.jsx(oe,{className:"max-h-64",children:e.jsxs("div",{className:"space-y-2",children:[m.data?.map(r=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ie,{checked:o.includes(r.id),onCheckedChange:()=>E(r.id)}),e.jsx("span",{children:r.name})]},r.id)),m.data?.length===0&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"No strategies available"})]})})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(se,{className:"text-xs",children:"Symbols"}),e.jsxs(ee,{children:[e.jsx(te,{asChild:!0,children:e.jsxs(F,{variant:"outline",size:"sm",className:"flex w-56 items-center justify-start gap-2",children:[e.jsx(ce,{className:"h-4 w-4"}),i.length>0?`${i.length} selected`:"All symbols"]})}),e.jsx(re,{className:"w-64 p-0",align:"start",children:e.jsx("div",{className:"p-3",children:e.jsx(oe,{className:"max-h-64",children:e.jsxs("div",{className:"space-y-2",children:[T.map(r=>e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ie,{checked:i.includes(r),onCheckedChange:()=>k(r)}),e.jsx("span",{children:r})]},r)),T.length===0&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"No symbols available"})]})})})})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(F,{size:"sm",onClick:D,disabled:m.isLoading||u.isLoading,children:"Apply Filters"}),e.jsx(F,{size:"sm",variant:"ghost",onClick:_,disabled:m.isLoading||u.isLoading,children:"Reset"}),e.jsx(F,{size:"icon",variant:"outline",onClick:H,disabled:m.isLoading||u.isLoading,children:e.jsx(nt,{className:`h-4 w-4 ${m.isLoading||u.isLoading?"animate-spin":""}`})})]})]}),(o.length>0||i.length>0)&&e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[o.map(r=>{const p=m.data?.find(S=>S.id===r);return e.jsx(Y,{variant:"outline",children:p?.name??r},r)}),i.map(r=>e.jsx(Y,{variant:"secondary",children:r},r))]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-5",children:[e.jsxs(v,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total PnL"}),e.jsx("div",{className:"text-lg font-semibold",children:u.data?O(u.data.kpis.totalPnl):e.jsx(U,{className:"h-6 w-32"})})]}),e.jsxs(v,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Win Rate"}),e.jsx("div",{className:"text-lg font-semibold",children:u.data?fe(u.data.kpis.winRate):e.jsx(U,{className:"h-6 w-24"})})]}),e.jsxs(v,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Sharpe"}),e.jsx("div",{className:"text-lg font-semibold",children:u.data?u.data.kpis.sharpe.toFixed(2):e.jsx(U,{className:"h-6 w-16"})})]}),e.jsxs(v,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Max Drawdown"}),e.jsx("div",{className:"text-lg font-semibold",children:u.data?fe(u.data.kpis.maxDrawdown):e.jsx(U,{className:"h-6 w-24"})})]}),e.jsxs(v,{className:"p-4",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Positions"}),e.jsx("div",{className:"text-lg font-semibold",children:u.data?u.data.kpis.openPositions:e.jsx(U,{className:"h-6 w-12"})})]})]}),e.jsxs(v,{className:"space-y-4 p-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h3",{className:"font-medium",children:"Equity Curves"})}),e.jsx($e,{data:u.data?.equityByStrategy??[],series:I})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(v,{className:"space-y-4 p-4",children:[e.jsx("h3",{className:"font-medium",children:"PnL by Symbol"}),e.jsx(Ve,{data:u.data?.pnlBySymbol??[]})]}),e.jsxs(v,{className:"space-y-4 p-4",children:[e.jsx("h3",{className:"font-medium",children:"Distribution of Returns"}),e.jsx(Qe,{returns:u.data?.returns??[]})]})]}),e.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 xl:grid-cols-4",children:[e.jsxs(v,{className:"p-4",children:[e.jsx("h3",{id:h,className:"mb-3 font-medium",children:"Open Positions"}),e.jsxs(de,{"aria-labelledby":h,children:[e.jsx(he,{children:e.jsxs($,{children:[e.jsx(w,{children:"Symbol"}),e.jsx(w,{children:"Qty"}),e.jsx(w,{children:"Entry"}),e.jsx(w,{children:"Mark"}),e.jsx(w,{className:"text-right",children:"PnL"})]})}),e.jsx(me,{children:g.data?.map(r=>e.jsxs($,{children:[e.jsx(N,{children:r.symbol}),e.jsx(N,{children:r.qty}),e.jsx(N,{children:O(r.entry)}),e.jsx(N,{children:O(r.mark)}),e.jsx(N,{className:`text-right ${r.pnl>=0?"text-emerald-400":"text-red-400"}`,children:O(r.pnl)})]},r.symbol))}),e.jsx(ue,{children:g.data?.length===0?"No open positions":void 0})]})]}),e.jsxs(v,{className:"p-4",children:[e.jsx("h3",{id:f,className:"mb-3 font-medium",children:"Recent Trades"}),e.jsxs(de,{"aria-labelledby":f,children:[e.jsx(he,{children:e.jsxs($,{children:[e.jsx(w,{children:"Time"}),e.jsx(w,{children:"Symbol"}),e.jsx(w,{children:"Side"}),e.jsx(w,{children:"Qty"}),e.jsx(w,{children:"Price"}),e.jsx(w,{className:"text-right",children:"PnL"})]})}),e.jsx(me,{children:P.data?.map(r=>e.jsxs($,{children:[e.jsx(N,{children:new Date(r.timestamp).toLocaleTimeString()}),e.jsx(N,{children:r.symbol}),e.jsx(N,{className:r.side==="buy"?"text-emerald-400":"text-red-400",children:r.side.toUpperCase()}),e.jsx(N,{children:r.quantity}),e.jsx(N,{children:O(r.price)}),e.jsx(N,{className:"text-right",children:r.pnl!==void 0?O(r.pnl):"—"})]},`${r.timestamp}-${r.symbol}-${r.side}`))}),e.jsx(ue,{children:P.data?.length===0?"No recent trades":void 0})]})]}),e.jsxs(v,{className:"p-4",children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Alerts"}),e.jsx(oe,{className:"h-64 pr-2",children:e.jsxs("div",{className:"space-y-3",children:[R.data?.map(r=>e.jsxs("div",{className:"rounded-md border border-border p-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:new Date(r.timestamp).toLocaleTimeString()}),e.jsx(Y,{variant:r.type==="error"?"destructive":r.type==="warning"?"secondary":"outline",children:r.type.toUpperCase()})]}),e.jsx(Ke,{className:"my-2"}),e.jsx("p",{className:"text-sm leading-tight text-muted-foreground",children:r.message})]},`${r.timestamp}-${r.message}`)),R.data?.length===0&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"No alerts"})]})})]}),e.jsxs(v,{className:"p-4",children:[e.jsx("h3",{className:"mb-3 font-medium",children:"Venue Health"}),e.jsxs("div",{className:"space-y-3",children:[y.data?.venues.map(r=>e.jsxs("div",{className:"rounded-md border border-border p-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-medium",children:r.name}),e.jsx(Y,{variant:r.status==="ok"?"outline":r.status==="warn"?"secondary":"destructive",children:r.status.toUpperCase()})]}),e.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Latency: ",r.latencyMs.toFixed(1)," ms"]}),e.jsxs("span",{children:["Queue: ",r.queue]})]})]},r.name)),!y.data?.venues?.length&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"No venue data"})]})]})]})]})}export{At as DashboardTab};
//# sourceMappingURL=DashboardTab-CylKhWrN.js.map
