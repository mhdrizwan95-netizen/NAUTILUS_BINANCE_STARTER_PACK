# ==== ENGINE (shared) ====
TRADING_ENABLED=true
TRADE_SYMBOLS=BTCUSDT.BINANCE,ETHUSDT.BINANCE,BNBUSDT.BINANCE
MIN_NOTIONAL_USDT=5
# Loosen per-order cap to allow larger trades if signals fire
MAX_NOTIONAL_USDT=1000
# Allow higher throughput for strategy-driven orders
MAX_ORDERS_PER_MIN=120
DUST_THRESHOLD_USD=2
# Loosen exposure rails to avoid early blocking on small accounts
EXPOSURE_CAP_SYMBOL_USD=20000
EXPOSURE_CAP_TOTAL_USD=100000
# Relax venue error breaker so transient testnet/API hiccups don't pause trading
VENUE_ERROR_BREAKER_PCT=100
VENUE_ERROR_WINDOW_SEC=30

# ==== BINANCE ====
BINANCE_MODE=futures_testnet
# Replace with your Spot Testnet keys from https://testnet.binance.vision
BINANCE_API_KEY=BpElsEiIIIoTX62VAktaFBm2nQOkWV2e8kQ2q3ScixDtYE68P1j8sMSTRsfUHXxX
BINANCE_API_SECRET=XFcBxscu6eGM5anUCgAtW6QcKgO5bZCfYpLCRGv7kASiYHcJLvBMObo8Evbzbs7x
# Point all components at Spot Testnet
BINANCE_FUTURES_BASE=https://testnet.binance.vision
DEMO_FUTURES_BASE=https://testnet.binance.vision

# ==== IBKR ====
IBKR_HOST=host.docker.internal
IBKR_PORT=7497
IBKR_CLIENT_ID=777
IBKR_FEE_MODE=per_share
IBKR_FEE_PER_SHARE=0.005
IBKR_MIN_TRADE_FEE_USD=1
IBKR_MIN_NOTIONAL_USD=5

# ==== OPS / DASH ====
# OPS serves the dashboard at /pnl_dashboard.html
OPS_PORT=8002
OPS_WORKERS=2
ENGINE_ENDPOINTS=http://engine_binance:8003,http://engine_bybit:8003,http://engine_ibkr:8003

# ==== METRICS ====
ENGINE_METRICS_PORT=9103
OPS_METRICS_PORT=9102

# ==== HTTP Defaults ====
BINANCE_RECV_WINDOW=5000
BINANCE_API_TIMEOUT=10
DEMO_USDM_BASE=https://testnet.binancefuture.com
DEMO_COINM_BASE=https://dapi.binance.com

# ==== BYBIT (placeholders for local dev) ====
BYBIT_API_KEY=dummy-local-key
BYBIT_API_SECRET=dummy-local-secret

# ==== STRATEGY (light probe trading) ====
# Enable the built-in MA crossover strategy with tiny notionals
STRATEGY_ENABLED=true
STRATEGY_DRY_RUN=false
STRATEGY_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT
STRATEGY_INTERVAL_SEC=30
STRATEGY_FAST=9
STRATEGY_SLOW=21
STRATEGY_QUOTE_USDT=10.0
SCREENER_AUTO_SCAN=true
SCREENER_SCAN_INTERVAL_SEC=45
SCREENER_SYMBOL_CAP=300
SCREENER_ROTATE=5
SCREENER_SCAN_JITTER=0.1

# ==== HMM guardrails (if using HMM policy) ====
# Lower confidence threshold and widen spread gate
MIN_CONF=0.50
MAX_SPREAD_BP=50.0
# Reduce global cooldown between flips to increase opportunities
COOLDOWN_MS=500
# Increase daily risk budget for HMM policy guardrails
DAY_RISK_USD=300
