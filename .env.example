# Autogenerated by scripts/generate_env_example.py
# Update this file via the script to keep defaults in sync.

### Engine
# Thread pool size for sync EventBus handlers.
EVENTBUS_MAX_WORKERS=8

### Global
# Comma list of BASEQUOTE symbols (e.g., BTCUSDT,ETHUSDT) or '*' for allow-all.
TRADE_SYMBOLS=*
# Set to true to avoid placing live orders.
DRY_RUN=true

### Risk
TRADING_ENABLED=false
# Smallest order notional (USD/USDT).
MIN_NOTIONAL_USDT=10.0
# Largest order notional allowed per trade.
MAX_NOTIONAL_USDT=1000.0
# Rate limit on submitted orders per minute.
MAX_ORDERS_PER_MIN=30
# Balances below this threshold are ignored as dust.
DUST_THRESHOLD_USD=2.0
# Cap on total exposure per symbol.
EXPOSURE_CAP_SYMBOL_USD=2000.0
# Cap on total exposure across all symbols.
EXPOSURE_CAP_TOTAL_USD=10000.0
# Cap on venue-wide exposure (spot+futures).
EXPOSURE_CAP_VENUE_USD=10000.0
# Error breaker trip percentage (venue health).
VENUE_ERROR_BREAKER_PCT=50.0
# Window for venue error breaker evaluation.
VENUE_ERROR_WINDOW_SEC=60
# Trading pauses if equity falls below this.
EQUITY_FLOOR_USD=500.0
# Max daily drawdown before cooldown engages.
EQUITY_DRAWDOWN_LIMIT_PCT=35.0
# Cooldown duration after hitting drawdown limit.
EQUITY_COOLDOWN_SEC=300
# Allow submitting margin orders.
MARGIN_ENABLED=false
MARGIN_MIN_LEVEL=1.2
MARGIN_MAX_LIABILITY_USD=25000.0
MARGIN_MAX_LEVERAGE=3.0
# Allow submitting options orders.
OPTIONS_ENABLED=false
# Enable soft risk-breach mitigations.
SOFT_BREACH_ENABLED=true
# Tighten stop-loss to this pct when a soft breach triggers.
SOFT_BREACH_TIGHTEN_SL_PCT=0.6
# Allow tightening stops to breakeven even if above target pct.
SOFT_BREACH_BREAKEVEN_OK=true
# Cancel open entry orders when a soft breach occurs.
SOFT_BREACH_CANCEL_ENTRIES=true
# Log order details when soft breach protection activates.
SOFT_BREACH_LOG_ORDERS=true

### Broker
# Enable Interactive Brokers integration.
IBKR_ENABLED=false

### Trend Strategy
TREND_ENABLED=false
TREND_DRY_RUN=true
# Optional override; empty or '*' falls back to TRADE_SYMBOLS.
TREND_SYMBOLS=
TREND_FETCH_LIMIT=720
TREND_REFRESH_SEC=900
TREND_ATR_LENGTH=14
TREND_ATR_STOP_MULT=1.2
TREND_ATR_TARGET_MULT=2.0
TREND_SWING_LOOKBACK=3
TREND_RSI_LONG_MIN=52.0
TREND_RSI_LONG_MAX=72.0
TREND_RSI_EXIT=80.0
TREND_RISK_PCT=0.015
TREND_MIN_QUOTE_USD=75.0
TREND_FALLBACK_EQUITY=2000.0
TREND_COOLDOWN_BARS=3
TREND_ALLOW_SHORTS=false
TREND_AUTO_TUNE_ENABLED=false
TREND_AUTO_TUNE_MIN_TRADES=30
TREND_AUTO_TUNE_INTERVAL=15
TREND_AUTO_TUNE_HISTORY=200
TREND_AUTO_TUNE_WIN_LOW=0.4
TREND_AUTO_TUNE_WIN_HIGH=0.65
TREND_AUTO_TUNE_STOP_MIN=0.5
TREND_AUTO_TUNE_STOP_MAX=2.5
TREND_AUTO_TUNE_STATE_PATH=data/runtime/trend_auto_tune.json
TREND_PRIMARY_INTERVAL=4h
TREND_PRIMARY_FAST=50
TREND_PRIMARY_SLOW=200
TREND_PRIMARY_RSI=14
TREND_SECONDARY_INTERVAL=1h
TREND_SECONDARY_FAST=100
TREND_SECONDARY_SLOW=400
TREND_SECONDARY_RSI=14
TREND_REGIME_INTERVAL=1d
TREND_REGIME_FAST=50
TREND_REGIME_SLOW=200
TREND_REGIME_RSI=14

### Scalping
SCALP_ENABLED=false
SCALP_DRY_RUN=true
# Optional override for scalping universe.
SCALP_SYMBOLS=
SCALP_WINDOW_SEC=30.0
SCALP_MIN_TICKS=8
SCALP_MIN_RANGE_BPS=6.0
SCALP_LOWER_THRESHOLD=0.22
SCALP_UPPER_THRESHOLD=0.78
SCALP_RSI_LENGTH=2
SCALP_RSI_BUY=20.0
SCALP_RSI_SELL=80.0
SCALP_STOP_BPS=12.0
SCALP_TP_BPS=18.0
SCALP_QUOTE_USD=125.0
SCALP_COOLDOWN_SEC=15.0
SCALP_ALLOW_SHORTS=true
SCALP_PREFER_FUTURES=true
SCALP_SIGNAL_TTL_SEC=30.0
SCALP_MAX_SIGNALS_PER_MIN=6
SCALP_IMBALANCE_THRESHOLD=0.18
SCALP_MAX_SPREAD_BPS=6.0
SCALP_MIN_DEPTH_USD=20000.0
SCALP_MOMENTUM_TICKS=3
SCALP_FEE_BPS=7.5
SCALP_BOOK_STALE_SEC=5.0

### Momentum (Real-Time)
MOMENTUM_RT_ENABLED=false
MOMENTUM_RT_DRY_RUN=true
# Optional override for momentum universe.
MOMENTUM_RT_SYMBOLS=
MOMENTUM_RT_WINDOW_SEC=45.0
MOMENTUM_RT_BASELINE_SEC=360.0
MOMENTUM_RT_MOVE_THRESHOLD_PCT=1.8
MOMENTUM_RT_VOLUME_SPIKE_RATIO=2.0
MOMENTUM_RT_STOP_PCT=0.8
MOMENTUM_RT_TRAIL_PCT=1.2
MOMENTUM_RT_TP_PCT=3.5
MOMENTUM_RT_MIN_TICKS=3
MOMENTUM_RT_COOLDOWN_SEC=180.0
MOMENTUM_RT_QUOTE_USD=150.0
MOMENTUM_RT_ALLOW_SHORTS=false
MOMENTUM_RT_PREFER_FUTURES=true

### Meme Sentiment
MEME_SENTIMENT_ENABLED=false
MEME_SENTIMENT_DRY_RUN=true
MEME_SENTIMENT_RISK_PCT=0.0075
MEME_SENTIMENT_STOP_PCT=0.1
MEME_SENTIMENT_TP_PCT=0.25
MEME_SENTIMENT_TRAIL_PCT=0.12
MEME_SENTIMENT_FALLBACK_EQUITY=2000.0
MEME_SENTIMENT_NOTIONAL_MIN=25.0
MEME_SENTIMENT_NOTIONAL_MAX=200.0
MEME_SENTIMENT_MIN_PRIORITY=0.82
MEME_SENTIMENT_MIN_SCORE=2.2
MEME_SENTIMENT_MIN_MENTIONS=18
MEME_SENTIMENT_MIN_VELOCITY=1.0
MEME_SENTIMENT_MAX_CHASE_PCT=0.55
MEME_SENTIMENT_MAX_SPREAD_PCT=0.035
MEME_SENTIMENT_COOLDOWN_SEC=1200.0
MEME_SENTIMENT_LOCK_SEC=600.0
# Comma-separated keywords to ignore.
MEME_SENTIMENT_DENY_KEYWORDS=rug,rugpull,scam,honeypot
# CSV of event sources to react to (twitter_firehose,dex_whale,binance_listings).
MEME_SENTIMENT_SOURCES=twitter_firehose,dex_whale,binance_listings
# Preferred quote assets when selecting trading pairs.
MEME_SENTIMENT_QUOTES=USDT,USDC,BUSD
MEME_SENTIMENT_METRICS_ENABLED=true
MEME_SENTIMENT_PUBLISH_TOPIC=strategy.meme_sentiment_trade
MEME_SENTIMENT_DEFAULT_MARKET=spot

### Symbol Scanner
# Enable the dynamic symbol scanner; authoritative universe when true.
SYMBOL_SCANNER_ENABLED=false
# Universe preset or CSV list; '*' falls back to TRADE_SYMBOLS.
SYMBOL_SCANNER_UNIVERSE=TOP_50_BY_VOLUME
SYMBOL_SCANNER_INTERVAL_SEC=300
SYMBOL_SCANNER_INTERVAL=1h
SYMBOL_SCANNER_LOOKBACK=60
SYMBOL_SCANNER_TOP_N=3
SYMBOL_SCANNER_MIN_VOLUME_USD=250000.0
SYMBOL_SCANNER_MIN_ATR_PCT=0.5
SYMBOL_SCANNER_WEIGHT_RET=0.5
SYMBOL_SCANNER_WEIGHT_TREND=0.3
SYMBOL_SCANNER_WEIGHT_VOL=0.2
SYMBOL_SCANNER_MIN_MINUTES_BETWEEN_RESELECT=30
# State file for scanner selections.
SYMBOL_SCANNER_STATE_PATH=data/runtime/symbol_scanner_state.json

### Autotrain Shared
# SQLite ledger shared by ingestion, training, and backtesting services.
LEDGER_DB=/shared/manifest.sqlite

### Data Ingestion
# Staging directory for downloaded OHLCV files.
DATA_LANDING=/data/incoming
# Source exchange identifier (ccxt).
EXCHANGE=binance
# Comma-separated trading pairs to ingest or simulate.
SYMBOLS=BTC/USDT,ETH/USDT
# Candlestick interval requested from the exchange.
TIMEFRAME=1m
# Maximum candles fetched per ingest request.
BATCH_LIMIT=1000
# Initial timestamp (ms) used when no watermark exists.
START_TS=0
# Optional end timestamp (ms) to limit simulation range (0 = all).
END_TS=0
# Extra delay between requests in milliseconds to avoid rate limits.
SLEEP_MS=500
# Log level override for the respective service.
LOG_LEVEL=INFO

### ML Service
# Shared data volume mounted into ml_service containers.
DATA_DIR=/data
# Root directory for persisted models.
MODEL_DIR=/models
# Location where model versions are stored.
REGISTRY_DIR=/models/registry
# Symlink pointing to the active model version.
CURRENT_SYMLINK=/models/current
# Default number of hidden states for the HMM trainer.
HMM_STATES=4
# Lookback window (days) of data used for training.
TRAIN_WINDOW_DAYS=365
# Train each bar at most once (true) or use a sliding window (false).
EXACTLY_ONCE=false
# Minimum observations required before fitting a model.
TRAIN_MIN_POINTS=2000
# Minimum improvement required to promote a model.
PROMOTION_MIN_DELTA=1.0
# Number of historical models to retain in the registry.
KEEP_N_MODELS=5
# Automatically promote models that beat the current metric.
AUTO_PROMOTE=true
# Remove raw files after a successful training round.
DELETE_AFTER_PROCESS=true
# Cron expression controlling the scheduler retrain cadence.
RETRAIN_CRON=0 */6 * * *
# Toggle JWT authentication for API endpoints.
REQUIRE_AUTH=false
# JWT signing algorithm (HS/RS/ES variants).
JWT_ALG=HS256
# Shared secret for HS* algorithms; leave blank for RS/ES.
JWT_SECRET=
# Public key for RS/ES algorithms; newline separated.
JWT_PUBLIC_KEY=
# Log level override for the respective service.
LOG_LEVEL=INFO

### Param Controller
# SQLite database storing presets, bandit history, and outcomes.
PC_DB=/shared/param_controller.sqlite
# Exploration rate used as a fallback to linear Thompson Sampling.
EPSILON=0.05
# Ridge regularisation applied to the linear bandit posterior.
L2=1.0
# Safety cap on simultaneously active parameter presets.
MAX_PRESETS=12
# Log level override for the respective service.
LOG_LEVEL=INFO

### Backtest Runner
# Base directory containing historical CSVs for simulation.
RESEARCH_DIR=/research
# Landing directory where simulated chunks are written.
DATA_INCOMING=/data/incoming
# Base URL for the training/inference service used during sim.
ML_SERVICE=http://ml_service:8000
# Base URL for the parameter controller service.
PARAM_CONTROLLER=http://param_controller:8002
# Comma-separated trading pairs to ingest or simulate.
SYMBOLS=BTC/USDT,ETH/USDT
# Candlestick interval requested from the exchange.
TIMEFRAME=1m
# Number of rows included in each simulated ingest batch.
CHUNK_ROWS=1000
# Initial timestamp (ms) used when no watermark exists.
START_TS=0
# Optional end timestamp (ms) to limit simulation range (0 = all).
END_TS=0
# Minutes between retraining events during simulation.
TRAIN_CRON_MINUTES=360
# Allow simulator to promote better models automatically.
PROMOTE=true
# Train each bar at most once (true) or use a sliding window (false).
EXACTLY_ONCE=false
# Minimum observations required before fitting a model.
TRAIN_MIN_POINTS=2000
# Per-side fee assumptions in basis points for execution.
FEE_BP=1.0
# Per-side slippage assumptions in basis points.
SLIPPAGE_BP=2.0
# Safety cap on simulation iterations.
MAX_STEPS=100000
# Log level override for the respective service.
LOG_LEVEL=INFO

### Deprecated (aliases)
# DEPRECATED: use MEME_SENTIMENT_ENABLED.
#SOCIAL_SENTIMENT_ENABLED=false
# DEPRECATED: use MEME_SENTIMENT_SOURCES.
#SOCIAL_SENTIMENT_SOURCES=

